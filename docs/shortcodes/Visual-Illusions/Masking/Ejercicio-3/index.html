<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Ejercicio 3 # 1. Introducción
Los kernels de imagen son una herramienta importante en el procesamiento de imágenes. Los kernels son matrices de valores numéricos que se utilizan para aplicar filtros a las imágenes y extraer características específicas de ellas.
El uso de kernels de imagen es muy común en aplicaciones de visión por computadora, como el reconocimiento de objetos, la detección de bordes, la eliminación de ruido y la mejora de la calidad de las imágenes."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content><meta property="og:description" content="Ejercicio 3 # 1. Introducción
Los kernels de imagen son una herramienta importante en el procesamiento de imágenes. Los kernels son matrices de valores numéricos que se utilizan para aplicar filtros a las imágenes y extraer características específicas de ellas.
El uso de kernels de imagen es muy común en aplicaciones de visión por computadora, como el reconocimiento de objetos, la detección de bordes, la eliminación de ruido y la mejora de la calidad de las imágenes."><meta property="og:type" content="article"><meta property="og:url" content="https://vc-cjn.github.io/showcase/docs/shortcodes/Visual-Illusions/Masking/Ejercicio-3/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2023-03-30T17:00:55-05:00"><title>Ejercicio 3 | Showcase Template</title><link rel=manifest href=/showcase/manifest.json><link rel=icon href=/showcase/favicon.png type=image/x-icon><link rel=stylesheet href=/showcase/book.min.4b35fed0bea034bbc19c89c71e14b73fb9c68cfcc586b9382adfb9b7b103ba06.css integrity="sha256-SzX+0L6gNLvBnInHHhS3P7nGjPzFhrk4Kt+5t7EDugY=" crossorigin=anonymous><script defer src=/showcase/flexsearch.min.js></script>
<script defer src=/showcase/en.search.min.3a8d658c77eb93c7f12a2b8af49a700131e474f288eefb605d9fa61576dbe5a7.js integrity="sha256-Oo1ljHfrk8fxKiuK9JpwATHkdPKI7vtgXZ+mFXbb5ac=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/showcase/><span>Showcase Template</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li class=book-section-flat><span>Shortcodes</span><ul><li><input type=checkbox id=section-71de8235f72db30668db972cb3ebe56f class=toggle>
<label for=section-71de8235f72db30668db972cb3ebe56f class="flex justify-between"><a href=/showcase/docs/shortcodes/Equipo-de-Trabajo/>Equipo De Trabajo</a></label><ul><li><a href=/showcase/docs/shortcodes/Equipo-de-Trabajo/Carlos-Ni%C3%B1o/>Carlos Niño</a></li><li><a href=/showcase/docs/shortcodes/Equipo-de-Trabajo/Juan-Oviedo/>Juan Oviedo</a></li><li><a href=/showcase/docs/shortcodes/Equipo-de-Trabajo/Nicol%C3%A1s-Rincon/>Nicolás Rincon</a></li></ul></li><li><input type=checkbox id=section-37d133451a87125afc7e4d4a60cdb12b class=toggle>
<label for=section-37d133451a87125afc7e4d4a60cdb12b class="flex justify-between"><a href=/showcase/docs/shortcodes/Shaders/>Shaders</a></label><ul><li><input type=checkbox id=section-edeb9cc2709510b029c1fbd4e97d4944 class=toggle>
<label for=section-edeb9cc2709510b029c1fbd4e97d4944 class="flex justify-between"><a href=/showcase/docs/shortcodes/Shaders/Blending/>Blending</a></label><ul><li><a href=/showcase/docs/shortcodes/Shaders/Blending/Ejercicio-1/>Ejercicio 1</a></li></ul></li><li><input type=checkbox id=section-123f1fa7496265b40605bc65626fae07 class=toggle>
<label for=section-123f1fa7496265b40605bc65626fae07 class="flex justify-between"><a href=/showcase/docs/shortcodes/Shaders/Photomosaic/>Photomosaic</a></label><ul><li><a href=/showcase/docs/shortcodes/Shaders/Photomosaic/Ejercicio-1/>Ejercicio 1</a></li></ul></li><li><input type=checkbox id=section-be9a940056fd84a3fda535c049954464 class=toggle>
<label for=section-be9a940056fd84a3fda535c049954464 class="flex justify-between"><a href=/showcase/docs/shortcodes/Shaders/Procedural-Texturing/>Procedural Texturing</a></label><ul><li><a href=/showcase/docs/shortcodes/Shaders/Procedural-Texturing/Ejercicio-1/>Ejercicio 1</a></li></ul></li><li><input type=checkbox id=section-c5051a6467a2b46b514156e185242e0c class=toggle>
<label for=section-c5051a6467a2b46b514156e185242e0c class="flex justify-between"><a href=/showcase/docs/shortcodes/Shaders/Spatial-Coherence/>Spatial Coherence</a></label><ul><li><a href=/showcase/docs/shortcodes/Shaders/Spatial-Coherence/Ejercicio-1/>Ejercicio 1</a></li></ul></li></ul></li><li><input type=checkbox id=section-0ef3bbbb6534eb508af86d78f05590c5 class=toggle>
<label for=section-0ef3bbbb6534eb508af86d78f05590c5 class="flex justify-between"><a href=/showcase/docs/shortcodes/Space-Transformation/>Space Transformation</a></label><ul><li><input type=checkbox id=section-bc14cd1abf9dee934b24c9d12ef439a1 class=toggle>
<label for=section-bc14cd1abf9dee934b24c9d12ef439a1 class="flex justify-between"><a href=/showcase/docs/shortcodes/Space-Transformation/3-D-Gui/>3 D Gui</a></label><ul><li><a href=/showcase/docs/shortcodes/Space-Transformation/3-D-Gui/Ejercicio-1/>Ejercicio 1</a></li></ul></li></ul></li><li><input type=checkbox id=section-c773256a199be81a62574d17112edc8c class=toggle checked>
<label for=section-c773256a199be81a62574d17112edc8c class="flex justify-between"><a href=/showcase/docs/shortcodes/Visual-Illusions/>Visual Illusions</a></label><ul><li><input type=checkbox id=section-6be1497692c59886a7338ce628c128f2 class=toggle>
<label for=section-6be1497692c59886a7338ce628c128f2 class="flex justify-between"><a href=/showcase/docs/shortcodes/Visual-Illusions/Coloring/>Coloring</a></label><ul><li><a href=/showcase/docs/shortcodes/Visual-Illusions/Coloring/Ejercicio-1/>Ejercicio 1</a></li><li><a href=/showcase/docs/shortcodes/Visual-Illusions/Coloring/Ejercicio-2/>Ejercicio 2</a></li><li><a href=/showcase/docs/shortcodes/Visual-Illusions/Coloring/Ejercicio-Blending/>Ejercicio Blending</a></li></ul></li><li><input type=checkbox id=section-b0ba6863af02a61f4b1900615fd588bd class=toggle>
<label for=section-b0ba6863af02a61f4b1900615fd588bd class="flex justify-between"><a href=/showcase/docs/shortcodes/Visual-Illusions/Mach-Bands/>Mach Bands</a></label><ul><li><a href=/showcase/docs/shortcodes/Visual-Illusions/Mach-Bands/Ejercicio-1/>Ejercicio 1</a></li></ul></li><li><input type=checkbox id=section-d48d8dc31907a4ec1fedece9fdd58a7d class=toggle checked>
<label for=section-d48d8dc31907a4ec1fedece9fdd58a7d class="flex justify-between"><a href=/showcase/docs/shortcodes/Visual-Illusions/Masking/>Masking</a></label><ul><li><a href=/showcase/docs/shortcodes/Visual-Illusions/Masking/Ejercicio-1/>Ejercicio 1</a></li><li><a href=/showcase/docs/shortcodes/Visual-Illusions/Masking/Ejercicio-3/ class=active>Ejercicio 3</a></li></ul></li><li><input type=checkbox id=section-ebaa607a5709cc366636ff5ef7d1946f class=toggle>
<label for=section-ebaa607a5709cc366636ff5ef7d1946f class="flex justify-between"><a href=/showcase/docs/shortcodes/Visual-Illusions/Spatial-Coherence/>Spatial Coherence</a></label><ul><li><a href=/showcase/docs/shortcodes/Visual-Illusions/Spatial-Coherence/Ejercicio-1/>Ejercicio 1</a></li></ul></li></ul></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/showcase/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Ejercicio 3</strong>
<label for=toc-control><img src=/showcase/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><ul><li><a href=#ejercicio-3>Ejercicio 3</a><ul><li><a href=#image-kernel-application>Image Kernel Application</a></li><li><a href=#image-histogram>Image Histogram</a></li><li><a href=#image-lightness>Image Lightness</a></li></ul></li></ul></li></ul></nav></aside></header><article class=markdown><h2 id=ejercicio-3>Ejercicio 3
<a class=anchor href=#ejercicio-3>#</a></h2><p><strong>1. Introducción</strong></p><p>Los kernels de imagen son una herramienta importante en el procesamiento de imágenes. Los kernels son matrices de valores numéricos que se utilizan para aplicar filtros a las imágenes y extraer características específicas de ellas.</p><p>El uso de kernels de imagen es muy común en aplicaciones de visión por computadora, como el reconocimiento de objetos, la detección de bordes, la eliminación de ruido y la mejora de la calidad de las imágenes.</p><p>Por ejemplo, un kernel de detección de bordes se puede utilizar para encontrar los bordes de un objeto en una imagen. El kernel se aplica a la imagen y busca los cambios abruptos en el brillo o el color de los píxeles. Esto puede ayudar a identificar las formas de los objetos en la imagen.</p><p>Los kernels de imagen también se utilizan en el preprocesamiento de imágenes antes de aplicar algoritmos de aprendizaje automático, como las redes neuronales convolucionales. En este caso, los kernels se utilizan para extraer características importantes de las imágenes que se utilizarán como entrada para el modelo de aprendizaje automático.</p><p><strong>2. Solución</strong></p><p>Para el ejercicio propuesto se buscan aplicar kernels de imagen a una imagen dada. No solo esto, sino que también se quiere evaluar la generación de histogramas en base a la imagen.</p><p>La aplicación de kernels a las imágenes es una técnica ampliamente utilizada en el procesamiento digital de imágenes. El kernel es una matriz bidimensional que se utiliza como una herramienta para aplicar una operación específica a una imagen.</p><p>En el procesamiento de imágenes, se utiliza el kernel para aplicar operaciones como convolución, desenfoque, afilado, detección de bordes, entre otros. La convolución es la operación más común que se aplica a una imagen utilizando un kernel. Consiste en desplazar el kernel sobre la imagen, multiplicando los valores del kernel con los valores de píxeles correspondientes de la imagen y sumando los resultados para producir un nuevo valor de píxel en una nueva imagen de salida.</p><p>El proceso de aplicación de kernels a las imágenes se basa en la idea de que una imagen se puede representar como una función de intensidad de píxel en dos dimensiones. Al aplicar un kernel a la imagen, se realiza una operación matemática en cada píxel de la imagen, que se utiliza para modificar la intensidad de los píxeles de la imagen original y producir una nueva imagen.</p><h3 id=image-kernel-application>Image Kernel Application
<a class=anchor href=#image-kernel-application>#</a></h3><p>En primer lugar se plantea la aplicación de kernels a la imagen. En este caso, se toman 3 kernels. Cada kernel tiene una matriz característica, la cual se presenta a continuación.</p><ol><li>Edge Detection</li></ol><link rel=stylesheet href=/showcase/katex/katex.min.css><script defer src=/showcase/katex/katex.min.js></script>
<script defer src=/showcase/katex/auto-render.min.js onload=renderMathInElement(document.body)></script><span>
\[\begin{pmatrix}
&-1 &-1 &-1\\
&-1 &amp;8 &-1\\
&-1 &-1 &-1\\
\end{pmatrix}\]</span><ol start=2><li>Ridge Detection</li></ol><span>\[\begin{pmatrix}
&-1 &amp;0 &amp;1\\
&-2 &amp;0 &amp;2\\
&-1 &amp;0 &amp;1\\
\end{pmatrix}\]</span><ol start=3><li>Sharpen</li></ol><span>\[\begin{pmatrix}
&amp;0 &-1 &amp;0\\
&-1 &amp;6 &-1\\
&amp;0 &-1 &amp;0\\
\end{pmatrix}\]</span><ol start=3><li>Blur</li></ol><span>\[\begin{pmatrix}
&amp;0.0625 &amp;0.125 &amp;0.0625\\
&amp;0.125 &amp;0.25 &amp;0.125\\
&amp;0.0625 &amp;0.125 &amp;0.0625 \\
\end{pmatrix}\]</span><p>A continuación se toma una imagen del conocido jugador de futbol Vinicius Jr. para aplicarle los kernels. Es posible emplear el menú de selección para elegir que kernel se desea emplear sobre la imagen. Inicialmente, se muestra el kernel de Edge Detection.</p><details><summary>Implementacion Kernel de Imagen</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>img</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>w</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>100</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>matrix</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>maxRange</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>256</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// La funcion preload se ejecuta una unica vez antes de iniciar la funcionalidad de la aplicacion
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>preload</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>img</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadImage</span>(<span style=color:#e6db74>&#34;/showcase/sketches/masking/ejercicio3/vinicius.jpg&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Se prepara un canvas para colocar la imagen 
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>setup</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>createCanvas</span>(<span style=color:#ae81ff>800</span>, <span style=color:#ae81ff>500</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>resize</span>(<span style=color:#ae81ff>800</span>, <span style=color:#ae81ff>500</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pixelDensity</span>(<span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Crear un selector para el kernel a emplear 
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>sel</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createSelect</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>sel</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>500</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>sel</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;Edge Detection&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>sel</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;Ridge Detection&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>sel</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;Sharpen&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>sel</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;Blur&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Estilo del selector 
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>sel</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;font-size&#39;</span>, <span style=color:#e6db74>&#39;40px&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>sel</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;height&#39;</span>, <span style=color:#e6db74>&#39;60px&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>sel</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;width&#39;</span>, <span style=color:#e6db74>&#39;800px&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>sel</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;border-radius&#39;</span>, <span style=color:#e6db74>&#39;10px&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>sel</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;padding&#39;</span>, <span style=color:#e6db74>&#39;5px&#39;</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>mySelectEvent</span>(){
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>item</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>sel</span>.<span style=color:#a6e22e>value</span>();
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>item</span> <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;Edge Detection&#39;</span>){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>matrix</span> <span style=color:#f92672>=</span> [[<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>,<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>,<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>], 
</span></span><span style=display:flex><span>              [<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>,<span style=color:#ae81ff>8</span>,<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>],
</span></span><span style=display:flex><span>              [<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>,<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>,<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]];
</span></span><span style=display:flex><span>   
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>matrix</span>; 
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>item</span> <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;Ridge Detection&#39;</span>){
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>v</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1.0</span><span style=color:#f92672>/</span><span style=color:#ae81ff>9.0</span>;
</span></span><span style=display:flex><span>    <span style=color:#75715e>// kernel is the 3x3 matrix of normalized values
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>matrix</span> <span style=color:#f92672>=</span> [[<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>], [<span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>2</span>], [<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>]]; 
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>matrix</span>; 
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>item</span> <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;Sharpen&#39;</span>){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>matrix</span> <span style=color:#f92672>=</span> [  [<span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>], 
</span></span><span style=display:flex><span>                [<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>6</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>],
</span></span><span style=display:flex><span>                [<span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>] ];
</span></span><span style=display:flex><span>   
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>matrix</span>; 
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>item</span> <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;Blur&#39;</span>){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>matrix</span> <span style=color:#f92672>=</span> [[<span style=color:#ae81ff>0.0625</span>, <span style=color:#ae81ff>0.125</span>, <span style=color:#ae81ff>0.0625</span>],
</span></span><span style=display:flex><span>              [<span style=color:#ae81ff>0.125</span>, <span style=color:#ae81ff>0.25</span>, <span style=color:#ae81ff>0.125</span>],
</span></span><span style=display:flex><span>              [<span style=color:#ae81ff>0.0625</span>, <span style=color:#ae81ff>0.125</span>, <span style=color:#ae81ff>0.0625</span>], ];
</span></span><span style=display:flex><span>   
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>matrix</span>; 
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>draw</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>matrix</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>mySelectEvent</span>();
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Se ubica la imagen en el extremo superior izquierdo del canvas
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>image</span>(<span style=color:#a6e22e>img</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Se limita el espacio sobre el cual se aplica el kernel a un cuadrado de dimensiones wxw
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>xstart</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>constrain</span>(<span style=color:#a6e22e>mouseX</span><span style=color:#f92672>-</span><span style=color:#a6e22e>w</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>,<span style=color:#ae81ff>0</span>,<span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>width</span>); 
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>ystart</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>constrain</span>(<span style=color:#a6e22e>mouseY</span><span style=color:#f92672>-</span><span style=color:#a6e22e>w</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>,<span style=color:#ae81ff>0</span>,<span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>height</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>xend</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>constrain</span>(<span style=color:#a6e22e>mouseX</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>w</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>,<span style=color:#ae81ff>0</span>,<span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>width</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>yend</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>constrain</span>(<span style=color:#a6e22e>mouseY</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>w</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2</span>,<span style=color:#ae81ff>0</span>,<span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>height</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>matrixsize</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>3</span>;
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>loadPixels</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>loadPixels</span>();
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Iteramos sobre cada pixel 
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>xstart</span>; <span style=color:#a6e22e>x</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>xend</span>; <span style=color:#a6e22e>x</span><span style=color:#f92672>++</span> ) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>y</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>ystart</span>; <span style=color:#a6e22e>y</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>yend</span>; <span style=color:#a6e22e>y</span><span style=color:#f92672>++</span> ) {
</span></span><span style=display:flex><span>      <span style=color:#75715e>// Para cada pixel se aplica la convolución y se determina el nuevo color del mismo.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>result</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>convolution</span>(<span style=color:#a6e22e>x</span> ,<span style=color:#a6e22e>y</span> , <span style=color:#a6e22e>matrix</span>, <span style=color:#a6e22e>matrixsize</span>, <span style=color:#a6e22e>img</span>); 
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>loc</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>x</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>y</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>width</span>) <span style=color:#f92672>*</span> <span style=color:#ae81ff>4</span>;
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>loc</span>    ] <span style=color:#f92672>=</span> <span style=color:#a6e22e>result</span>[<span style=color:#ae81ff>0</span>];
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>loc</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>result</span>[<span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>loc</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>result</span>[<span style=color:#ae81ff>2</span>];
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>loc</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>3</span>] <span style=color:#f92672>=</span> <span style=color:#ae81ff>255</span>;
</span></span><span style=display:flex><span>      
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>updatePixels</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>stroke</span>(<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>noFill</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rect</span>(<span style=color:#a6e22e>xstart</span>,<span style=color:#a6e22e>ystart</span>,<span style=color:#a6e22e>w</span>,<span style=color:#a6e22e>w</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>convolution</span>(<span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>y</span>, <span style=color:#a6e22e>matrix</span>, <span style=color:#a6e22e>matrixsize</span>, <span style=color:#a6e22e>img</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>rtotal</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.0</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>gtotal</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.0</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>btotal</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.0</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>offset</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>floor</span>(<span style=color:#a6e22e>matrixsize</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Iteramos sobre la matriz de convolucion
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>matrixsize</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> ) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>j</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>matrixsize</span>; <span style=color:#a6e22e>j</span><span style=color:#f92672>++</span> ) {
</span></span><span style=display:flex><span>      <span style=color:#75715e>// What pixel are we testing
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>xloc</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>i</span><span style=color:#f92672>-</span><span style=color:#a6e22e>offset</span>;
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>yloc</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>y</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>j</span><span style=color:#f92672>-</span><span style=color:#a6e22e>offset</span>;
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>loc</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>xloc</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>width</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>yloc</span>) <span style=color:#f92672>*</span> <span style=color:#ae81ff>4</span>;
</span></span><span style=display:flex><span>      
</span></span><span style=display:flex><span>      <span style=color:#75715e>// Verificar que seguimos entre los bordes 
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#a6e22e>loc</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>constrain</span>(<span style=color:#a6e22e>loc</span>, <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>pixels</span>.<span style=color:#a6e22e>length</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>      <span style=color:#75715e>// Calculo de la convolucion.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#a6e22e>rtotal</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>loc</span>    ] <span style=color:#f92672>*</span> <span style=color:#a6e22e>matrix</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>];
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>gtotal</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>loc</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>] <span style=color:#f92672>*</span> <span style=color:#a6e22e>matrix</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>];
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>btotal</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>loc</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>] <span style=color:#f92672>*</span> <span style=color:#a6e22e>matrix</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>];
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rtotal</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>constrain</span>(<span style=color:#a6e22e>rtotal</span>,<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>255</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>gtotal</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>constrain</span>(<span style=color:#a6e22e>gtotal</span>,<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>255</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>btotal</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>constrain</span>(<span style=color:#a6e22e>btotal</span>,<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>255</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Retornar el arreglo de colores
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>return</span> [<span style=color:#a6e22e>rtotal</span>,<span style=color:#a6e22e>gtotal</span>,<span style=color:#a6e22e>btotal</span>]; 
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div></details><iframe id=image_kernels style=width:825px;height:525px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/addons/p5.sound.min.js></script>
            
            
            
            
            
            <script src=/showcase/sketches/masking/ejercicio3/image_kernels.js></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe><h3 id=image-histogram>Image Histogram
<a class=anchor href=#image-histogram>#</a></h3><details><summary>Implementacion Histograma</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>img</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>preload</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>img</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadImage</span>(<span style=color:#e6db74>&#34;/showcase/sketches/coloring/ejercicio3/bmw.jpg&#34;</span>); 
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>mySelectEvent</span>() {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>item</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>sel</span>.<span style=color:#a6e22e>value</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>img</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadImage</span>(<span style=color:#e6db74>&#34;/showcase/sketches/coloring/ejercicio3/&#34;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>item</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;.jpg&#34;</span>); 
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>setup</span>() {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Inicializamos un selector para elegir la imagen a trabajar
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>background</span>(<span style=color:#ae81ff>255</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>sel</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createSelect</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>sel</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>10</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>sel</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;bmw&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>sel</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;budapest&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>sel</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;vinicius&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>sel</span>.<span style=color:#a6e22e>selected</span>(<span style=color:#e6db74>&#39;bmw&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>sel</span>.<span style=color:#a6e22e>changed</span>(<span style=color:#a6e22e>mySelectEvent</span>);
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Se inicializa el canvas para colocar la imagen y el grafico
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>createCanvas</span>(<span style=color:#ae81ff>600</span>, <span style=color:#ae81ff>600</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>draw</span>(){
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>background</span>(<span style=color:#ae81ff>255</span>)
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>resize</span>(<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>400</span>);
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Cambiamos el modo de color a HSL para hacer el histograma 
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>maxRange</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>256</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>colorMode</span>(<span style=color:#a6e22e>HSL</span>, <span style=color:#a6e22e>maxRange</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>image</span>(<span style=color:#a6e22e>img</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Inicializamos el histograma
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>histogram</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Array(<span style=color:#a6e22e>maxRange</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> (<span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>maxRange</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>histogram</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Cargamos los pixeles de la imagen
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>loadPixels</span>();
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Para cada pixel se calcula el valor de HSL
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>x</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>width</span>; <span style=color:#a6e22e>x</span><span style=color:#f92672>+=</span><span style=color:#ae81ff>5</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>y</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>y</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>height</span>; <span style=color:#a6e22e>y</span><span style=color:#f92672>+=</span><span style=color:#ae81ff>5</span>) {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>loc</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>x</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>y</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>width</span>) <span style=color:#f92672>*</span> <span style=color:#ae81ff>4</span>;
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>h</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>loc</span>];
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>s</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>loc</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>l</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>loc</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>];
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>a</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>loc</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>3</span>];
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>b</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>int</span>(<span style=color:#a6e22e>l</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>histogram</span>[<span style=color:#a6e22e>b</span>]<span style=color:#f92672>++</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Se crea un placeholder para una nueva imagen
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>image</span>(<span style=color:#a6e22e>img</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Retornamos a RGB para hacer el grafico
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>colorMode</span>(<span style=color:#a6e22e>RGB</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>stroke</span>(<span style=color:#ae81ff>175</span>,<span style=color:#ae81ff>204</span>,<span style=color:#ae81ff>59</span>)
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Guardamos la configuración de dibujo actual
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>push</span>()
</span></span><span style=display:flex><span>  <span style=color:#75715e>//translate(10,0)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#75715e>// Se realiza el histograma empleando la función map y alturas 
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>for</span> (<span style=color:#a6e22e>x</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>x</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>maxRange</span>; <span style=color:#a6e22e>x</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>index</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>histogram</span>[<span style=color:#a6e22e>x</span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>y1</span><span style=color:#f92672>=</span><span style=color:#66d9ef>int</span>(<span style=color:#a6e22e>map</span>(<span style=color:#a6e22e>index</span>, <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>max</span>(<span style=color:#a6e22e>histogram</span>), <span style=color:#a6e22e>height</span>, <span style=color:#a6e22e>height</span><span style=color:#f92672>-</span><span style=color:#ae81ff>200</span>));
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>y2</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>height</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>xPos</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>map</span>(<span style=color:#a6e22e>x</span>,<span style=color:#ae81ff>0</span>,<span style=color:#a6e22e>maxRange</span>,<span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>width</span><span style=color:#f92672>-</span><span style=color:#ae81ff>20</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>line</span>(<span style=color:#a6e22e>xPos</span>, <span style=color:#a6e22e>y1</span>, <span style=color:#a6e22e>xPos</span>, <span style=color:#a6e22e>y2</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pop</span>()
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div></details><p>Por otro lado, la aplicación desarrollada también tiene la posibilidad de realizar una representación del histograma de la imagen. Recordemos que un histograma de imagen es un tipo de histograma que da una representación visual de la distribución tonal dentro de la imagen. Es decir, una visualización gráfica del numero de pixeles para cada valor tonal. A continuación, el usuario puede seleccionar una de 3 imagenes para visualizar su histograma, incluyendo la imagen del jugador de futbol presentada previamente.</p><p>El histograma se representa en un gráfico en el que el eje x representa los valores de intensidad de los píxeles, y el eje y representa la frecuencia con la que aparece ese valor de intensidad en la imagen. Los valores de intensidad pueden variar de 0 a 255 en una imagen de escala de grises, o de 0 a 255 para cada canal de color (rojo, verde y azul) en una imagen en color.</p><p>El histograma de imagen es una herramienta muy útil para analizar y comprender la distribución de la intensidad de los píxeles en una imagen. Por ejemplo, se puede utilizar para determinar el rango dinámico de la imagen, es decir, el rango de intensidades que se encuentran en la imagen. También se puede utilizar para identificar problemas de exposición, como la subexposición o la sobreexposición, o para ajustar la curva de tonos de una imagen.</p><p>Además, el histograma de imagen también puede ser utilizado para realizar ajustes en la imagen, como el aumento o disminución del contraste o la luminosidad. Al visualizar la distribución de los niveles de intensidad de los píxeles en el histograma, se pueden identificar los valores de intensidad que necesitan ser ajustados para mejorar la calidad visual de la imagen.</p><iframe id=image_histogram style=width:625px;height:625px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/addons/p5.sound.min.js></script>
            
            
            
            
            
            <script src=/showcase/sketches/masking/ejercicio3/image_histogram.js></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe><h3 id=image-lightness>Image Lightness
<a class=anchor href=#image-lightness>#</a></h3><p>La luminosidad de la imagen es una percepción visual que describe el brillo de una imagen. La luminosidad se refiere a la cantidad percibida de luz que es reflejada por un objeto o superficie. El brillo de una imagen está determinado por la cantidad de luz que llega al ojo del espectador, que está influenciado por factores como las condiciones de iluminación y los colores presentes en la imagen. La luminosidad es un aspecto importante de la comunicación visual, ya que puede afectar el estado de ánimo y el tono de una imagen, así como la legibilidad y claridad de su contenido. Comprender cómo funciona la luminosidad y cómo se puede manipular puede ser una herramienta útil para los diseñadores y fotógrafos que buscan crear composiciones visuales efectivas.</p><p>Para esta solución se plantea el escaneo de todos los pixeles empleando el arreglo pixels. Posteriormente, los valores de RGB existentes dentro de este arreglo se convierten a valores de HSL para luego transformar los valores únicamente del parametro L empleando el slider. Usando el slider se puede variar el parametro de lightness.</p><details><summary>Implementacion Lightness</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>img</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>r</span>, <span style=color:#a6e22e>g</span>, <span style=color:#a6e22e>b</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>preload</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>img</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadImage</span>(<span style=color:#e6db74>&#34;https://cdn.pixabay.com/photo/2015/04/19/08/32/marguerite-729510_1280.jpg&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>setup</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>createCanvas</span>(<span style=color:#ae81ff>400</span>, <span style=color:#ae81ff>400</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>slider</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createSlider</span>();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>draw</span>() { 
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>image</span>(<span style=color:#a6e22e>img</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>width</span>, <span style=color:#a6e22e>height</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>d</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>pixelDensity</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>loadPixels</span>();
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>height</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>d</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>j</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>width</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>d</span>; <span style=color:#a6e22e>j</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>index</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>4</span> <span style=color:#f92672>*</span> (<span style=color:#a6e22e>i</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>width</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>d</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>r</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>index</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0</span>];
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>g</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>index</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>b</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>index</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>h</span>, <span style=color:#a6e22e>s</span>, <span style=color:#a6e22e>l</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>rgbToHsl</span>(<span style=color:#a6e22e>r</span>, <span style=color:#a6e22e>g</span>, <span style=color:#a6e22e>b</span>);
</span></span><span style=display:flex><span>      <span style=color:#75715e>// pixels[index + 0] = h;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#75715e>// pixels[index + 1] = s;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#a6e22e>pixels</span>[<span style=color:#a6e22e>index</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>slider</span>.<span style=color:#a6e22e>value</span>();
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>updatePixels</span>();
</span></span><span style=display:flex><span>  <span style=color:#75715e>//noLoop();
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>rgbToHsl</span>(<span style=color:#a6e22e>r</span>, <span style=color:#a6e22e>g</span>, <span style=color:#a6e22e>b</span>) {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>r</span> <span style=color:#f92672>/=</span> <span style=color:#ae81ff>255</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>g</span> <span style=color:#f92672>/=</span> <span style=color:#ae81ff>255</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>b</span> <span style=color:#f92672>/=</span> <span style=color:#ae81ff>255</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>l</span> <span style=color:#f92672>=</span> Math.<span style=color:#a6e22e>max</span>(<span style=color:#a6e22e>r</span>, <span style=color:#a6e22e>g</span>, <span style=color:#a6e22e>b</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>s</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>l</span> <span style=color:#f92672>-</span> Math.<span style=color:#a6e22e>min</span>(<span style=color:#a6e22e>r</span>, <span style=color:#a6e22e>g</span>, <span style=color:#a6e22e>b</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>h</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>s</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>?</span> <span style=color:#a6e22e>l</span> <span style=color:#f92672>===</span> <span style=color:#a6e22e>r</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>?</span> (<span style=color:#a6e22e>g</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>b</span>) <span style=color:#f92672>/</span> <span style=color:#a6e22e>s</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>:</span> <span style=color:#a6e22e>l</span> <span style=color:#f92672>===</span> <span style=color:#a6e22e>g</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>?</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>+</span> (<span style=color:#a6e22e>b</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>r</span>) <span style=color:#f92672>/</span> <span style=color:#a6e22e>s</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>:</span> <span style=color:#ae81ff>4</span> <span style=color:#f92672>+</span> (<span style=color:#a6e22e>r</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>g</span>) <span style=color:#f92672>/</span> <span style=color:#a6e22e>s</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> [
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>60</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>h</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>?</span> <span style=color:#ae81ff>60</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>h</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>360</span> <span style=color:#f92672>:</span> <span style=color:#ae81ff>60</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>h</span>,
</span></span><span style=display:flex><span>    <span style=color:#ae81ff>100</span> <span style=color:#f92672>*</span> (<span style=color:#a6e22e>s</span> <span style=color:#f92672>?</span> (<span style=color:#a6e22e>l</span> <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>0.5</span> <span style=color:#f92672>?</span> <span style=color:#a6e22e>s</span> <span style=color:#f92672>/</span> (<span style=color:#ae81ff>2</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>l</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>s</span>) <span style=color:#f92672>:</span> <span style=color:#a6e22e>s</span> <span style=color:#f92672>/</span> (<span style=color:#ae81ff>2</span> <span style=color:#f92672>-</span> (<span style=color:#ae81ff>2</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>l</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>s</span>))) <span style=color:#f92672>:</span> <span style=color:#ae81ff>0</span>),
</span></span><span style=display:flex><span>    (<span style=color:#ae81ff>100</span> <span style=color:#f92672>*</span> (<span style=color:#ae81ff>2</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>l</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>s</span>)) <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>,
</span></span><span style=display:flex><span>  ];
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div></details><blockquote class="book-hint warning"><strong>Nota</strong><br>Deslizar el slider cambia la luminosidad de la imagen.</blockquote><iframe id=image_lightness style=width:420px;height:450px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/addons/p5.sound.min.js></script>
            
            
            
            
            
            <script src=/showcase/sketches/masking/ejercicio3/image_lightness.js></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe><p><strong>3. Conclusiones</strong></p><p>Después de explorar el tema de los kernels de imagen, podemos concluir lo siguiente:</p><p>Los kernels de imagen son una herramienta esencial en el procesamiento de imágenes y en la visión por computadora en general. Son matrices numéricas que se utilizan para aplicar filtros y extraer características específicas de las imágenes.</p><p>Los kernels de imagen son ampliamente utilizados en diversas aplicaciones, desde el reconocimiento de objetos hasta la eliminación de ruido y la mejora de la calidad de las imágenes.</p><p>Los kernels de imagen pueden ser ajustados para aplicar diferentes tipos de filtros y extraer diferentes características de las imágenes. Esto significa que su aplicación es altamente personalizable y puede ser adaptada para diferentes tipos de problemas.</p><p>A futuro, se puede buscar la implementación de más kernels, con el propósito de aplicar filtros a las imágenes, como el filtro de desenfoque, el filtro de realce de bordes y el filtro de nitidez. Estos filtros pueden mejorar la calidad de la imagen y hacer que ciertas características sean más visibles.</p><p>También es posible emplearlos para la compresión de imagenes como el estándar JPEG. En este caso, los kernels se utilizan para transformar la imagen original en una representación más compacta.</p></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/visualcomputing/showcase/commit/8e262fa6865bd77dd3929ad12829d54600d3f89b title='Last modified by Juan Esteban Oviedo | March 30, 2023' target=_blank rel=noopener><img src=/showcase/svg/calendar.svg class=book-icon alt=Calendar>
<span>March 30, 2023</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><ul><li><a href=#ejercicio-3>Ejercicio 3</a><ul><li><a href=#image-kernel-application>Image Kernel Application</a></li><li><a href=#image-histogram>Image Histogram</a></li><li><a href=#image-lightness>Image Lightness</a></li></ul></li></ul></li></ul></nav></div></aside></main></body></html>