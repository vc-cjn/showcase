<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Kinegrams y Patrones de Moiré # Ejercicio 1A # Introducción y Antecedentes # A continuación se plantea un Kinegram común (Kinegrama o Cinegrama en español), el cual representa la idea básica de una composición de imágenes superpuestas y distorsionadas, de tal manera que al momento de pasar por el frente una máscara de barras verticales, en este caso una grilla, dan el efecto de movimiento sobre la imágen de fondo."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content><meta property="og:description" content="Kinegrams y Patrones de Moiré # Ejercicio 1A # Introducción y Antecedentes # A continuación se plantea un Kinegram común (Kinegrama o Cinegrama en español), el cual representa la idea básica de una composición de imágenes superpuestas y distorsionadas, de tal manera que al momento de pasar por el frente una máscara de barras verticales, en este caso una grilla, dan el efecto de movimiento sobre la imágen de fondo."><meta property="og:type" content="article"><meta property="og:url" content="https://vc-cjn.github.io/showcase/docs/shortcodes/Visual-Illusions/Masking/Ejercicio-1/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2023-03-31T17:10:51-05:00"><title>Ejercicio 1 | Showcase Template</title><link rel=manifest href=/showcase/manifest.json><link rel=icon href=/showcase/favicon.png type=image/x-icon><link rel=stylesheet href=/showcase/book.min.4b35fed0bea034bbc19c89c71e14b73fb9c68cfcc586b9382adfb9b7b103ba06.css integrity="sha256-SzX+0L6gNLvBnInHHhS3P7nGjPzFhrk4Kt+5t7EDugY=" crossorigin=anonymous><script defer src=/showcase/flexsearch.min.js></script>
<script defer src=/showcase/en.search.min.3a8d658c77eb93c7f12a2b8af49a700131e474f288eefb605d9fa61576dbe5a7.js integrity="sha256-Oo1ljHfrk8fxKiuK9JpwATHkdPKI7vtgXZ+mFXbb5ac=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/showcase/><span>Showcase Template</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li class=book-section-flat><span>Shortcodes</span><ul><li><input type=checkbox id=section-71de8235f72db30668db972cb3ebe56f class=toggle>
<label for=section-71de8235f72db30668db972cb3ebe56f class="flex justify-between"><a href=/showcase/docs/shortcodes/Equipo-de-Trabajo/>Equipo De Trabajo</a></label><ul><li><a href=/showcase/docs/shortcodes/Equipo-de-Trabajo/Carlos-Ni%C3%B1o/>Carlos Niño</a></li><li><a href=/showcase/docs/shortcodes/Equipo-de-Trabajo/Juan-Oviedo/>Juan Oviedo</a></li><li><a href=/showcase/docs/shortcodes/Equipo-de-Trabajo/Nicol%C3%A1s-Rincon/>Nicolás Rincon</a></li></ul></li><li><input type=checkbox id=section-37d133451a87125afc7e4d4a60cdb12b class=toggle>
<label for=section-37d133451a87125afc7e4d4a60cdb12b class="flex justify-between"><a href=/showcase/docs/shortcodes/Shaders/>Shaders</a></label><ul><li><input type=checkbox id=section-edeb9cc2709510b029c1fbd4e97d4944 class=toggle>
<label for=section-edeb9cc2709510b029c1fbd4e97d4944 class="flex justify-between"><a href=/showcase/docs/shortcodes/Shaders/Blending/>Blending</a></label><ul><li><a href=/showcase/docs/shortcodes/Shaders/Blending/Ejercicio-1/>Ejercicio 1</a></li></ul></li><li><input type=checkbox id=section-123f1fa7496265b40605bc65626fae07 class=toggle>
<label for=section-123f1fa7496265b40605bc65626fae07 class="flex justify-between"><a href=/showcase/docs/shortcodes/Shaders/Photomosaic/>Photomosaic</a></label><ul><li><a href=/showcase/docs/shortcodes/Shaders/Photomosaic/Ejercicio-1/>Ejercicio 1</a></li></ul></li><li><input type=checkbox id=section-be9a940056fd84a3fda535c049954464 class=toggle>
<label for=section-be9a940056fd84a3fda535c049954464 class="flex justify-between"><a href=/showcase/docs/shortcodes/Shaders/Procedural-Texturing/>Procedural Texturing</a></label><ul><li><a href=/showcase/docs/shortcodes/Shaders/Procedural-Texturing/Ejercicio-1/>Ejercicio 1</a></li></ul></li><li><input type=checkbox id=section-c5051a6467a2b46b514156e185242e0c class=toggle>
<label for=section-c5051a6467a2b46b514156e185242e0c class="flex justify-between"><a href=/showcase/docs/shortcodes/Shaders/Spatial-Coherence/>Spatial Coherence</a></label><ul><li><a href=/showcase/docs/shortcodes/Shaders/Spatial-Coherence/Ejercicio-1/>Ejercicio 1</a></li></ul></li></ul></li><li><input type=checkbox id=section-0ef3bbbb6534eb508af86d78f05590c5 class=toggle>
<label for=section-0ef3bbbb6534eb508af86d78f05590c5 class="flex justify-between"><a href=/showcase/docs/shortcodes/Space-Transformation/>Space Transformation</a></label><ul><li><input type=checkbox id=section-bc14cd1abf9dee934b24c9d12ef439a1 class=toggle>
<label for=section-bc14cd1abf9dee934b24c9d12ef439a1 class="flex justify-between"><a href=/showcase/docs/shortcodes/Space-Transformation/3-D-Gui/>3 D Gui</a></label><ul><li><a href=/showcase/docs/shortcodes/Space-Transformation/3-D-Gui/Ejercicio-1/>Ejercicio 1</a></li></ul></li></ul></li><li><input type=checkbox id=section-c773256a199be81a62574d17112edc8c class=toggle checked>
<label for=section-c773256a199be81a62574d17112edc8c class="flex justify-between"><a href=/showcase/docs/shortcodes/Visual-Illusions/>Visual Illusions</a></label><ul><li><input type=checkbox id=section-6be1497692c59886a7338ce628c128f2 class=toggle>
<label for=section-6be1497692c59886a7338ce628c128f2 class="flex justify-between"><a href=/showcase/docs/shortcodes/Visual-Illusions/Coloring/>Coloring</a></label><ul><li><a href=/showcase/docs/shortcodes/Visual-Illusions/Coloring/Ejercicio-1/>Ejercicio 1</a></li><li><a href=/showcase/docs/shortcodes/Visual-Illusions/Coloring/Ejercicio-2/>Ejercicio 2</a></li><li><a href=/showcase/docs/shortcodes/Visual-Illusions/Coloring/Ejercicio-Blending/>Ejercicio Blending</a></li></ul></li><li><input type=checkbox id=section-b0ba6863af02a61f4b1900615fd588bd class=toggle>
<label for=section-b0ba6863af02a61f4b1900615fd588bd class="flex justify-between"><a href=/showcase/docs/shortcodes/Visual-Illusions/Mach-Bands/>Mach Bands</a></label><ul><li><a href=/showcase/docs/shortcodes/Visual-Illusions/Mach-Bands/Ejercicio-1/>Ejercicio 1</a></li></ul></li><li><input type=checkbox id=section-d48d8dc31907a4ec1fedece9fdd58a7d class=toggle checked>
<label for=section-d48d8dc31907a4ec1fedece9fdd58a7d class="flex justify-between"><a href=/showcase/docs/shortcodes/Visual-Illusions/Masking/>Masking</a></label><ul><li><a href=/showcase/docs/shortcodes/Visual-Illusions/Masking/Ejercicio-1/ class=active>Ejercicio 1</a></li><li><a href=/showcase/docs/shortcodes/Visual-Illusions/Masking/Ejercicio-3/>Ejercicio 3</a></li></ul></li><li><input type=checkbox id=section-ebaa607a5709cc366636ff5ef7d1946f class=toggle>
<label for=section-ebaa607a5709cc366636ff5ef7d1946f class="flex justify-between"><a href=/showcase/docs/shortcodes/Visual-Illusions/Spatial-Coherence/>Spatial Coherence</a></label><ul><li><a href=/showcase/docs/shortcodes/Visual-Illusions/Spatial-Coherence/Ejercicio-1/>Ejercicio 1</a></li></ul></li></ul></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/showcase/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Ejercicio 1</strong>
<label for=toc-control><img src=/showcase/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#kinegrams-y-patrones-de-moiré>Kinegrams y Patrones de Moiré</a></li><li><a href=#ejercicio-1a>Ejercicio 1A</a><ul><li><a href=#introducción-y-antecedentes>Introducción y Antecedentes</a></li><li><a href=#marco-teórico>Marco Teórico</a></li><li><a href=#código-y-solución>Código y Solución</a></li><li><a href=#resultados>Resultados</a></li><li><a href=#conclusión-y-trabajo-futuro>Conclusión y trabajo Futuro</a></li></ul></li><li><a href=#ejercicio-1b>Ejercicio 1B</a><ul><li><a href=#introducción>Introducción</a></li><li><a href=#marco-teórico-1>Marco Teórico</a></li><li><a href=#código-y-solución-1>Código Y Solución</a></li><li><a href=#resultados-1>Resultados</a></li><li><a href=#conclusión-y-trabajo-futuro-1>Conclusión y Trabajo Futuro</a></li></ul></li><li><a href=#ejercicio-1c>Ejercicio 1C</a><ul><li><a href=#introducción-1>Introducción</a></li><li><a href=#código-y-solución-2>Código y Solución</a></li><li><a href=#conclusiones-y-trabajo-futuro>Conclusiones y Trabajo Futuro</a></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=kinegrams-y-patrones-de-moiré>Kinegrams y Patrones de Moiré
<a class=anchor href=#kinegrams-y-patrones-de-moir%c3%a9>#</a></h1><h1 id=ejercicio-1a>Ejercicio 1A
<a class=anchor href=#ejercicio-1a>#</a></h1><h2 id=introducción-y-antecedentes>Introducción y Antecedentes
<a class=anchor href=#introducci%c3%b3n-y-antecedentes>#</a></h2><p style=text-align:justify>A continuación se plantea un Kinegram común (Kinegrama o Cinegrama en español), el cual representa la idea básica de una composición de imágenes superpuestas y distorsionadas, de tal manera que al momento de pasar por el frente una máscara de barras verticales, en este caso una grilla, dan el efecto de movimiento sobre la imágen de fondo. <b><i>Cabe mencionar que este primer ejercicio es una muestra básica para entender la idea general del kinegrama, sin embargo el Ejercicio 1B el cual creemos que es el core de este apartado, permite explorar otras formas de visualizar y en un caso particular, escuchar estas técnicas.</i></b></p><p style=text-align:justify>Para este caso particular, empezamos con un ejercicio inicial el cual está basado en un proyecto previo llamado Kinegrams y elaborado por Mithru, el cual es bastante completo y tiene muchas otras funcionalidades. Nosotros extrajimos una de ellas, que es la utilización de una composición de frames de un GIF representados en imágenes separadas.</p><h2 id=marco-teórico>Marco Teórico
<a class=anchor href=#marco-te%c3%b3rico>#</a></h2><p><strong>Kinegramas</strong></p><p style=text-align:justify>Los kinegramas son imágenes estáticas que, cuando se ven a través de una máscara o una serie de barras, parecen moverse o cambiar. Este efecto se logra mediante la interacción entre la máscara y la imagen, que crea la ilusión de movimiento. Los kinegramas han sido utilizados en una amplia gama de aplicaciones, como arte, diseño, publicidad y educación.</p><p><strong>Masking</strong></p><p style=text-align:justify>El Masking o enmascaramiento es el proceso de ocultar ciertas partes de una imagen compuesta y revelar otras utilizando una máscara (también conocida como grilla) con barras que bloquean partes específicas de la imágen. La máscara generalmente consiste en barras paralelas, que pueden variar en ancho y separación. El enmascaramiento es crucial para el funcionamiento de los kinegramas porque permite que saólo se muestre una porción de la imagen compuesta en cualquier momento dado. La velocidad y la dirección en la que se mueve la máscara afectan la percepción del movimiento y la secuencia de las imágenes que se muestran.</p><h2 id=código-y-solución>Código y Solución
<a class=anchor href=#c%c3%b3digo-y-soluci%c3%b3n>#</a></h2><p style=text-align:justify>Como ya se mencionó se usó un proyecto previo como base, de dicho proyecto se extrajo la estructura principal de la clase para generar las imágenes mezcladas llamada generateKinegram dado que no se sabía exactamente como poder manejar esta parte; el resto de código se fue construyendo a medida que se iba dando forma, usando bastante la documentación de p5.js sobre todo para dibujar la grilla de barras y poder parametrizar algunas variables directamente desde unos slider en pantalla. El código en general es bastante sencillo y se muestra a continuación.</p><details><summary>CodeKinegram</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>numImages</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>3</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>images</span> <span style=color:#f92672>=</span> [];
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>kinegram</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>slitWidth</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>5</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>gridX</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>barWidthSlider</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>barSpacingSlider</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>gridSpeedSlider</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>numBarsSlider</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>labelColor</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#39;white&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>preload</span>() {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>numImages</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>images</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadImage</span>(<span style=color:#e6db74>`mario</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>i</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span><span style=color:#e6db74>}</span><span style=color:#e6db74>.png`</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>setup</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>createCanvas</span>(<span style=color:#ae81ff>400</span>, <span style=color:#ae81ff>500</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>kinegram</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>generateKinegram</span>(<span style=color:#a6e22e>images</span>, <span style=color:#a6e22e>slitWidth</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>barWidthSlider</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createSlider</span>(<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>20</span>, <span style=color:#ae81ff>5</span>,<span style=color:#ae81ff>0.1</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>barWidthSlider</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>160</span>, <span style=color:#ae81ff>20</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>labelBarWidth</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createElement</span>(<span style=color:#e6db74>&#39;label&#39;</span>, <span style=color:#e6db74>&#39;Ancho de barras:&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>labelBarWidth</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>15</span>, <span style=color:#ae81ff>20</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>labelBarWidth</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;color&#39;</span>,<span style=color:#a6e22e>labelColor</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>barSpacingSlider</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createSlider</span>(<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>20</span>, <span style=color:#ae81ff>5</span>,<span style=color:#ae81ff>0.1</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>barSpacingSlider</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>160</span>, <span style=color:#ae81ff>50</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>labelBarSpacing</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createElement</span>(<span style=color:#e6db74>&#39;label&#39;</span>, <span style=color:#e6db74>&#39;Espacio entre barras:&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>labelBarSpacing</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>15</span>, <span style=color:#ae81ff>50</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>labelBarSpacing</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;color&#39;</span>,<span style=color:#a6e22e>labelColor</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>gridSpeedSlider</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createSlider</span>(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0.5</span>, <span style=color:#ae81ff>0.1</span>,<span style=color:#ae81ff>0.001</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>gridSpeedSlider</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>160</span>, <span style=color:#ae81ff>80</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>labelGridSpeed</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createElement</span>(<span style=color:#e6db74>&#39;label&#39;</span>, <span style=color:#e6db74>&#39;Velocidad de máscara:&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>labelGridSpeed</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>15</span>, <span style=color:#ae81ff>80</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>labelGridSpeed</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;color&#39;</span>,<span style=color:#a6e22e>labelColor</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>numBarsSlider</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createSlider</span>(<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>20</span>, <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>numBarsSlider</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>160</span>, <span style=color:#ae81ff>110</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>labelNumBars</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createElement</span>(<span style=color:#e6db74>&#39;label&#39;</span>, <span style=color:#e6db74>&#39;Número de barras:&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>labelNumBars</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>15</span>, <span style=color:#ae81ff>110</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>labelNumBars</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;color&#39;</span>,<span style=color:#a6e22e>labelColor</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>labelName</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createElement</span>(<span style=color:#e6db74>&#39;label&#39;</span>, <span style=color:#e6db74>&#39;KINEGRAMA COMÚN&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>labelName</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>115</span>, <span style=color:#ae81ff>410</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>labelName</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;color&#39;</span>,<span style=color:#a6e22e>labelColor</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>draw</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>background</span>(<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>image</span>(<span style=color:#a6e22e>kinegram</span>, <span style=color:#a6e22e>width</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>kinegram</span>.<span style=color:#a6e22e>width</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>height</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>kinegram</span>.<span style=color:#a6e22e>height</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>drawGrid</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>updateGrid</span>();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>drawGrid</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>push</span>();
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>barWidth</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>barWidthSlider</span>.<span style=color:#a6e22e>value</span>();
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>barSpacing</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>barSpacingSlider</span>.<span style=color:#a6e22e>value</span>();
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>numBars</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>numBarsSlider</span>.<span style=color:#a6e22e>value</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>translate</span>(<span style=color:#a6e22e>width</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>kinegram</span>.<span style=color:#a6e22e>width</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>gridX</span>, <span style=color:#a6e22e>height</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>kinegram</span>.<span style=color:#a6e22e>height</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>numBars</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>*</span> (<span style=color:#a6e22e>barWidth</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>barSpacing</span>) <span style=color:#f92672>-</span> ((<span style=color:#a6e22e>numBars</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>20</span>) <span style=color:#f92672>*</span> (<span style=color:#a6e22e>barWidth</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>barSpacing</span>));
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fill</span>(<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>noStroke</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>rect</span>(<span style=color:#a6e22e>x</span>, <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>barWidth</span>, <span style=color:#a6e22e>kinegram</span>.<span style=color:#a6e22e>height</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pop</span>();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>updateGrid</span>() {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>gridSpeed</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>gridSpeedSlider</span>.<span style=color:#a6e22e>value</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>gridX</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>gridSpeed</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>barWidth</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>barWidthSlider</span>.<span style=color:#a6e22e>value</span>();
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>barSpacing</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>barSpacingSlider</span>.<span style=color:#a6e22e>value</span>();
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>gridX</span> <span style=color:#f92672>&gt;=</span> (<span style=color:#a6e22e>barWidth</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>barSpacing</span>)) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>gridX</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>generateKinegram</span>(<span style=color:#a6e22e>frames</span>, <span style=color:#a6e22e>slitWidth</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>kinegram</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createImage</span>(<span style=color:#a6e22e>frames</span>[<span style=color:#ae81ff>0</span>].<span style=color:#a6e22e>width</span>, <span style=color:#a6e22e>frames</span>[<span style=color:#ae81ff>0</span>].<span style=color:#a6e22e>height</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>kinegram</span>.<span style=color:#a6e22e>loadPixels</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>frames</span>.<span style=color:#a6e22e>length</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>frames</span>[<span style=color:#a6e22e>i</span>].<span style=color:#a6e22e>loadPixels</span>();
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>frames</span>[<span style=color:#ae81ff>0</span>].<span style=color:#a6e22e>width</span> <span style=color:#f92672>!=</span> <span style=color:#a6e22e>frames</span>[<span style=color:#a6e22e>i</span>].<span style=color:#a6e22e>width</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>frames</span>[<span style=color:#ae81ff>0</span>].<span style=color:#a6e22e>height</span> <span style=color:#f92672>==</span> <span style=color:#a6e22e>frames</span>[<span style=color:#a6e22e>i</span>].<span style=color:#a6e22e>height</span>) {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;image dimensions are not consistent&#34;</span>);
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>null</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>x</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>kinegram</span>.<span style=color:#a6e22e>width</span>; <span style=color:#a6e22e>x</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>y</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>y</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>kinegram</span>.<span style=color:#a6e22e>height</span>; <span style=color:#a6e22e>y</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>imgIndex</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>int</span>(<span style=color:#a6e22e>x</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>slitWidth</span>) <span style=color:#f92672>%</span> <span style=color:#a6e22e>frames</span>.<span style=color:#a6e22e>length</span>;
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>kinegram</span>.<span style=color:#a6e22e>set</span>(<span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>y</span>, <span style=color:#a6e22e>frames</span>[<span style=color:#a6e22e>imgIndex</span>].<span style=color:#a6e22e>get</span>(<span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>y</span>));
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>kinegram</span>.<span style=color:#a6e22e>updatePixels</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>kinegram</span>;
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div></details><h2 id=resultados>Resultados
<a class=anchor href=#resultados>#</a></h2><p style=text-align:justify>A continuación se enseña el resultado obtenido, inicialmente se observan unos sliders los cuales permiten variar algunos parámetros como el ancho de las barras, la separación entre estas, la velocidad a la cual se desplazan y la cantidad de estas de manera que al minimizar esta última, se pueda visualizar la imágen resultante de la mezcla de cada uno de los frames, en este caso la imagen de Mario consta de tres imágenes, y el efecto final es Mario caminando.</p><iframe id=kinegram style=width:430px;height:530px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/addons/p5.sound.min.js></script>
            
            
            
            
            
            <script src=/showcase/sketches/masking/ejercicio1/kinegram.js></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe><h2 id=conclusión-y-trabajo-futuro>Conclusión y trabajo Futuro
<a class=anchor href=#conclusi%c3%b3n-y-trabajo-futuro>#</a></h2><p>En este proyecto hemos explorado una manera sencilla de generar un kinegrama, se pueden cambiar e intentar crear ese efecto de movimiento sobre otras imágenes, se abordó cierta personalización y experimentación al momento de permitir la variación de algunos parametros y asi poder visualizar un resultado al gusto individual de quien está usando la herramienta. Realmente hay mucho trabajo por delante, por ejemplo se piensa en variar el ángulo de la grilla y poder visualizar otros efectos, también el hecho de poder cargar las propias imágenes directamente desde la interfaz. Como veremos a continuación, esta técnica de Kinegramas no solo puede aplicarse a imágenes sino a otros entornos llamativos como la música.</p><h1 id=ejercicio-1b>Ejercicio 1B
<a class=anchor href=#ejercicio-1b>#</a></h1><h2 id=introducción>Introducción
<a class=anchor href=#introducci%c3%b3n>#</a></h2><p style=text-align:justify>Kinegrama Acústico, así le hemos llamado a este ejercicio que explora la interacción entre el sonido y la visualización en tiempo real, inspirado en la técnica de los <a href=https://michaelbach.de/ot/mot-scanimation/index.html>kinegramas</a> y el proyecto <a href=https://github.com/chrisdonahue/wavegan>WaveGAN</a>. A través de una interfaz gráfica, el usuario puede manipular y generar patrones de sonido, que se traducen en una experiencia audiovisual. Este ejercicio aborda el concepto de kinegramas, su aplicación en diferentes contextos, la relación con el proyecto WaveGAN y la importancia de la interacción entre la visualización y el sonido. [<a href=https://paperswithcode.com/method/wgan>Aquí</a>] otros proyectos relacionados.</p><h2 id=marco-teórico-1>Marco Teórico
<a class=anchor href=#marco-te%c3%b3rico-1>#</a></h2><p><strong>Kinegramas</strong></p><p style=text-align:justify>En el Kinegrama Acústico, el concepto de kinegramas se aplica a un entorno musical, donde una barra vertical se desplaza a través de una matriz de colores. Cada color representa un sonido, y cuando la barra se cruza con un color, se reproduce el sonido correspondiente. La velocidad de desplazamiento de la barra y el número de barras pueden ser ajustados por el usuario, lo que permite una mayor personalización de la experiencia.</p><p><strong>WaveGAN</strong></p><p style=text-align:justify>WaveGAN es un proyecto de investigación que utiliza la inteligencia artificial para generar sonidos a través de un proceso conocido como ["<a href=https://arxiv.org/abs/1802.04208>síntesis de audio por aprendizaje profundo</a>"]. El proyecto explora la posibilidad de aplicar la Generative Adversarial Networks (GANs) al dominio del audio, con el objetivo de crear sonidos realistas y de alta calidad.</p><p style=text-align:justify>Aunque el Kinegrama Acústico no utiliza directamente el código de WaveGAN, la idea general de la interfaz visual y el concepto de usar sonidos se basa en este proyecto. Los sonidos utilizados en el Kinegrama Acústico provienen del proyecto WaveGAN específicamente de un <a href=https://chrisdonahue.com/wavegan/>DEMO</a>, lo que demuestra la versatilidad y la capacidad de adaptación de estos sonidos generados por IA.</p><p><strong>Interacción entre visualización y sonido</strong></p><p style=text-align:justify>La interacción entre la visualización y el sonido es un aspecto fundamental del Kinegrama Acústico. La interfaz gráfica permite al usuario manipular fácilmente los patrones de sonido y experimentar con diferentes combinaciones. Además, la visualización en tiempo real del desplazamiento de las barras verticales y la reproducción de los sonidos crea una experiencia audiovisual única e inmersiva.</p><p style=text-align:justify>Al ofrecer a los usuarios la posibilidad de personalizar la velocidad, el volumen y la cantidad de barras, el Kinegrama Acústico se convierte en una herramienta creativa y versátil. Esto puede inspirar a los usuarios a explorar nuevas formas de crear y experimentar con sonidos y visualizaciones, lo que puede tener aplicaciones en áreas como la música, el arte y la educación.</p><h2 id=código-y-solución-1>Código Y Solución
<a class=anchor href=#c%c3%b3digo-y-soluci%c3%b3n-1>#</a></h2><p style=text-align:justify>Para llegar al código final, se han realizado algunas consultas principalmente en la referencia de p5.js para poder entender algunas de las librerías, como por ejemplo la librería de sonido, y algunas funciones que ya vienen presentes en dicha herramienta. Como ya se mencionó, la parte visual se inspiró en el demo WaveGAN, asi como gran parte de su funcionalidad, sin embargo, existe un proyecto bastante interesante llamado "drum machine!" ya elaborado en p5.js por el usuario asd099 el cual sirvió de guía para la construcción estructural que necesitábamos implementar, no se ha hecho una copia directa dado que quisimos sacar nuestro propio código, pero si nos ayudó bastante en ver como podíamos construir algunas funciones para que funcionaran en nuestro modelo. Y finalmente se hizo uso de la nueva herramienta OpenIA para resolver algunos inconvenientes que nos estaban surgiendo y de los cuales no encontrábamos referencias claras.</p><p style=text-align:justify>El código crea una matriz 8x16 en la que cada celda representa un sonido de tambor específico. Las filas representan diferentes sonidos de tambor (Tambor1, Tambor2, etc.), mientras que las columnas representan momentos en el tiempo. El usuario puede interactuar con el kinegrama haciendo clic en las celdas de la matriz para activar o desactivar los sonidos de tambor.</p><p style=text-align:justify>El ejercicio también permite al usuario controlar la velocidad de reproducción, el volumen y la cantidad de barras del kinegrama. Además, hay un botón de reproducción/pausa para controlar la reproducción del kinegrama.</p><p style=text-align:justify>Existen varias partes clave que son esenciales para el funcionamiento de la aplicación. A continuación, se describen las secciones más importantes del código:</p><p style=text-align:justify>Carga de sonidos y configuración inicial: En la función <b>preload()</b>, se cargan los sonidos de cada tambor utilizando la función <b>loadSound()</b>. En la función <b>setup()</b>, se inicializa el lienzo, se crean y posicionan los elementos de la interfaz de usuario, y se configura la matriz que representa el patrón de sonido de la cuadrícula.</p><details><summary>preload()</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>preload</span>() {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>8</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>sounds</span>[<span style=color:#e6db74>`Tambor</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>i</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadSound</span>(<span style=color:#e6db74>`/showcase/sketches/masking/ejercicio1/Tambor</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>i</span><span style=color:#e6db74>}</span><span style=color:#e6db74>.wav`</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div></details><br><details><summary>setup()</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>setup</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>createCanvas</span>(<span style=color:#ae81ff>1000</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>scaleFactor</span>, <span style=color:#ae81ff>700</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>scaleFactor</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>title</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createElement</span>(<span style=color:#e6db74>&#39;label&#39;</span>, <span style=color:#e6db74>&#39;Kinegrama Acústico&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>title</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>500</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>scaleFactor</span>, <span style=color:#ae81ff>10</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>scaleFactor</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>8</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>row</span> <span style=color:#f92672>=</span> [];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>j</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>16</span>; <span style=color:#a6e22e>j</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>row</span>.<span style=color:#a6e22e>push</span>({<span style=color:#a6e22e>x</span><span style=color:#f92672>:</span> (<span style=color:#ae81ff>50</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>150</span>) <span style=color:#f92672>*</span> <span style=color:#a6e22e>scaleFactor</span>, <span style=color:#a6e22e>y</span><span style=color:#f92672>:</span> (<span style=color:#ae81ff>50</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>50</span>) <span style=color:#f92672>*</span> <span style=color:#a6e22e>scaleFactor</span>, <span style=color:#a6e22e>color</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;transparent&#34;</span>, <span style=color:#a6e22e>sound</span><span style=color:#f92672>:</span> <span style=color:#e6db74>`Tambor</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>i</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>});
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>matrix</span>.<span style=color:#a6e22e>push</span>(<span style=color:#a6e22e>row</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>playButton</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createButton</span>(<span style=color:#e6db74>&#39;Iniciar/Pausar&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>playButton</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>150</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>scaleFactor</span>, <span style=color:#ae81ff>480</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>scaleFactor</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>playButton</span>.<span style=color:#a6e22e>mousePressed</span>(<span style=color:#a6e22e>togglePlay</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Crea el input de velocidad
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>speedInput</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createInput</span>();
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>labelspeed</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createElement</span>(<span style=color:#e6db74>&#39;label&#39;</span>, <span style=color:#e6db74>&#39;Velocidad:&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>labelspeed</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>150</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>scaleFactor</span>, <span style=color:#ae81ff>520</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>scaleFactor</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>speedInput</span>.<span style=color:#a6e22e>attribute</span>(<span style=color:#e6db74>&#39;type&#39;</span>, <span style=color:#e6db74>&#39;range&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>speedInput</span>.<span style=color:#a6e22e>attribute</span>(<span style=color:#e6db74>&#39;min&#39;</span>, <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>speedInput</span>.<span style=color:#a6e22e>attribute</span>(<span style=color:#e6db74>&#39;max&#39;</span>, <span style=color:#ae81ff>10</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>speedInput</span>.<span style=color:#a6e22e>attribute</span>(<span style=color:#e6db74>&#39;value&#39;</span>, <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>speedInput</span>.<span style=color:#a6e22e>input</span>(<span style=color:#a6e22e>updateSpeed</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>speedInput</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>280</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>scaleFactor</span>, <span style=color:#ae81ff>520</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>scaleFactor</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Crea el control deslizante de volumen
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>volumeLabel</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createElement</span>(<span style=color:#e6db74>&#39;label&#39;</span>, <span style=color:#e6db74>&#39;Volumen:&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>volumeLabel</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>150</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>scaleFactor</span>, <span style=color:#ae81ff>560</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>scaleFactor</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>volumeSlider</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createSlider</span>(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0.5</span>, <span style=color:#ae81ff>0.01</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>volumeSlider</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>280</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>scaleFactor</span>, <span style=color:#ae81ff>560</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>scaleFactor</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>volumeSlider</span>.<span style=color:#a6e22e>input</span>(<span style=color:#a6e22e>updateVolume</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Crea el control deslizante de cantidad de barras
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>barsLabel</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createElement</span>(<span style=color:#e6db74>&#39;label&#39;</span>, <span style=color:#e6db74>&#39;Cant. Barras:&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>barsLabel</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>150</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>scaleFactor</span>, <span style=color:#ae81ff>600</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>scaleFactor</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>barsSlider</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createSlider</span>(<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>10</span>, <span style=color:#a6e22e>numRectangles</span>, <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>barsSlider</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>280</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>scaleFactor</span>, <span style=color:#ae81ff>600</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>scaleFactor</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>barsSlider</span>.<span style=color:#a6e22e>input</span>(<span style=color:#a6e22e>updateBars</span>);
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div></details><p style=text-align:justify>Control de velocidad, volumen y cantidad de barras: Las funciones <b>updateSpeed()</b>, <b>updateVolume()</b> y <b>updateBars()</b> se utilizan para actualizar las variables correspondientes cuando los usuarios interactúan con los controles deslizantes en la interfaz de usuario.</p><details><summary>updateSpeed()</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>updateSpeed</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>currentSpeed</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>value</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>clearInterval</span>(<span style=color:#a6e22e>interval</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>playing</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>interval</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>setInterval</span>(<span style=color:#a6e22e>moveColumn</span>, <span style=color:#ae81ff>1000</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>currentSpeed</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div></details><p style=text-align:justify>Iniciar/Pausar la reproducción: La función <b>togglePlay()</b> se encarga de iniciar o pausar la reproducción de los patrones de sonido en función del estado actual de la aplicación.</p><details><summary>togglePlay()</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>togglePlay</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>playing</span> <span style=color:#f92672>=</span> <span style=color:#f92672>!</span><span style=color:#a6e22e>playing</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>playing</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>interval</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>setInterval</span>(<span style=color:#a6e22e>moveColumn</span>, <span style=color:#ae81ff>1000</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>currentSpeed</span>);
</span></span><span style=display:flex><span>  } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>clearInterval</span>(<span style=color:#a6e22e>interval</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div></details><p style=text-align:justify>Reproducción de sonidos y movimiento de las barras: La función <b>moveColumn()</b> se encarga de reproducir los sonidos y mover las barras horizontalmente en la cuadrícula. Esto se logra iterando sobre las celdas de la matriz y reproduciendo los sonidos asociados a cada color activo.</p><details><summary>moveColumn()</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>moveColumn</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>columnIndex</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>columnIndex</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>) <span style=color:#f92672>%</span> <span style=color:#ae81ff>16</span>;
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Reproduce los sonidos de la columna actual para cada rectángulo
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>k</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>k</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>numRectangles</span>; <span style=color:#a6e22e>k</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>currentColumnIndex</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>columnIndex</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>k</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>rectangleSpacing</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>50</span>) <span style=color:#f92672>%</span> <span style=color:#ae81ff>16</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>currentColumnIndex</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span>) <span style=color:#a6e22e>currentColumnIndex</span> <span style=color:#f92672>+=</span> <span style=color:#ae81ff>16</span>; <span style=color:#75715e>// Asegura que el índice sea positivo
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>matrix</span>.<span style=color:#a6e22e>length</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>box</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>matrix</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>currentColumnIndex</span>];
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>box</span>.<span style=color:#a6e22e>color</span> <span style=color:#f92672>!==</span> <span style=color:#e6db74>&#34;transparent&#34;</span>) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>sounds</span>[<span style=color:#a6e22e>box</span>.<span style=color:#a6e22e>sound</span>].<span style=color:#a6e22e>play</span>();
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div></details><p style=text-align:justify>Dibujo y actualización del lienzo: La función <b>draw()</b> se ejecuta continuamente en un bucle y se encarga de dibujar y actualizar el lienzo. Esto incluye dibujar el fondo, los elementos de texto, la cuadrícula y las barras verticales.</p><details><summary>draw()</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>draw</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>background</span>(<span style=color:#ae81ff>220</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>textSize</span>(<span style=color:#ae81ff>24</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>scaleFactor</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>matrixLabels</span>.<span style=color:#a6e22e>length</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>text</span>(<span style=color:#a6e22e>matrixLabels</span>[<span style=color:#a6e22e>i</span>], <span style=color:#ae81ff>20</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>scaleFactor</span>, (<span style=color:#ae81ff>50</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>85</span>) <span style=color:#f92672>*</span> <span style=color:#a6e22e>scaleFactor</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>matrix</span>.<span style=color:#a6e22e>length</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>j</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>matrix</span>[<span style=color:#a6e22e>i</span>].<span style=color:#a6e22e>length</span>; <span style=color:#a6e22e>j</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>noStroke</span>();
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>fill</span>(<span style=color:#a6e22e>matrix</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>].<span style=color:#a6e22e>color</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>rect</span>(<span style=color:#a6e22e>matrix</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>].<span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>matrix</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>].<span style=color:#a6e22e>y</span>, <span style=color:#ae81ff>50</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>scaleFactor</span>, <span style=color:#ae81ff>50</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>scaleFactor</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>k</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>k</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>numRectangles</span>; <span style=color:#a6e22e>k</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>currentLineX</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>150</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>scaleFactor</span> <span style=color:#f92672>+</span> ((<span style=color:#a6e22e>columnIndex</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>k</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>rectangleSpacing</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>50</span>) <span style=color:#f92672>%</span> <span style=color:#ae81ff>16</span>) <span style=color:#f92672>*</span> <span style=color:#ae81ff>50</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>scaleFactor</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fill</span>(<span style=color:#ae81ff>255</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>128</span>); <span style=color:#75715e>// Color rojo semitransparente para el rectángulo
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>noStroke</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>rect</span>(<span style=color:#a6e22e>currentLineX</span>, <span style=color:#ae81ff>50</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>scaleFactor</span>, <span style=color:#ae81ff>50</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>scaleFactor</span>, <span style=color:#ae81ff>400</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>scaleFactor</span>); <span style=color:#75715e>// Dibuja el rectángulo
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  }
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div></details><p style=text-align:justify>Interacción del usuario con la cuadrícula: La función <b>mousePressed()</b> se ejecuta cuando el usuario hace clic en el lienzo. Esta función detecta en qué celda de la cuadrícula se hizo clic y, en consecuencia, cambia el color de la celda y reproduce o detiene el sonido asociado.</p><p style=text-align:justify>Al comprender estas partes clave del código, se puede obtener una visión general del funcionamiento interno del Kinegrama Acústico y cómo se lleva a cabo la interacción entre el usuario y la aplicación. Estas funciones trabajan juntas para proporcionar una experiencia de usuario fluida y agradable, permitiendo a los usuarios experimentar con patrones de sonido y kinegramas de una manera única e innovadora. A continuación dejamos el código completo para que lo puedas usar a tu gusto.</p><details><summary>Code</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>scaleFactor</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.7</span>; <span style=color:#75715e>// Factor de escala para ajustar todos los elementos
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>sounds</span> <span style=color:#f92672>=</span> {};
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>colors</span> <span style=color:#f92672>=</span> [<span style=color:#e6db74>&#34;blue&#34;</span>, <span style=color:#e6db74>&#34;green&#34;</span>, <span style=color:#e6db74>&#34;red&#34;</span>, <span style=color:#e6db74>&#34;purple&#34;</span>, <span style=color:#e6db74>&#34;orange&#34;</span>, <span style=color:#e6db74>&#34;pink&#34;</span>, <span style=color:#e6db74>&#34;gray&#34;</span>, <span style=color:#e6db74>&#34;yellow&#34;</span>];
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>matrix</span> <span style=color:#f92672>=</span> [];
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>matrixLabels</span> <span style=color:#f92672>=</span> [<span style=color:#e6db74>&#34;Tambor1&#34;</span>, <span style=color:#e6db74>&#34;Tambor2&#34;</span>, <span style=color:#e6db74>&#34;Tambor3&#34;</span>, <span style=color:#e6db74>&#34;Tambor4&#34;</span>, <span style=color:#e6db74>&#34;Tambor5&#34;</span>, <span style=color:#e6db74>&#34;Tambor6&#34;</span>, <span style=color:#e6db74>&#34;Tambor7&#34;</span>, <span style=color:#e6db74>&#34;Tambor8&#34;</span>];
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>lineX</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>100</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>columnIndex</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>interval</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>activeColors</span> <span style=color:#f92672>=</span> [];
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>currentSpeed</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>colorToSound</span> <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;blue&#34;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;Tambor1&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;green&#34;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;Tambor2&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;red&#34;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;Tambor3&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;purple&#34;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;Tambor4&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;orange&#34;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;Tambor5&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;pink&#34;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;Tambor6&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;gray&#34;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;Tambor7&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;yellow&#34;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;Tambor8&#34;</span>
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>preload</span>() {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>8</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>sounds</span>[<span style=color:#e6db74>`Tambor</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>i</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadSound</span>(<span style=color:#e6db74>`/showcase/sketches/masking/ejercicio1/Tambor</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>i</span><span style=color:#e6db74>}</span><span style=color:#e6db74>.wav`</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>setup</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>createCanvas</span>(<span style=color:#ae81ff>1000</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>scaleFactor</span>, <span style=color:#ae81ff>700</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>scaleFactor</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>title</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createElement</span>(<span style=color:#e6db74>&#39;label&#39;</span>, <span style=color:#e6db74>&#39;Kinegrama Acústico&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>title</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>500</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>scaleFactor</span>, <span style=color:#ae81ff>10</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>scaleFactor</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>8</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>row</span> <span style=color:#f92672>=</span> [];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>j</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>16</span>; <span style=color:#a6e22e>j</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>row</span>.<span style=color:#a6e22e>push</span>({<span style=color:#a6e22e>x</span><span style=color:#f92672>:</span> (<span style=color:#ae81ff>50</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>150</span>) <span style=color:#f92672>*</span> <span style=color:#a6e22e>scaleFactor</span>, <span style=color:#a6e22e>y</span><span style=color:#f92672>:</span> (<span style=color:#ae81ff>50</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>50</span>) <span style=color:#f92672>*</span> <span style=color:#a6e22e>scaleFactor</span>, <span style=color:#a6e22e>color</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;transparent&#34;</span>, <span style=color:#a6e22e>sound</span><span style=color:#f92672>:</span> <span style=color:#e6db74>`Tambor</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>i</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>});
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>matrix</span>.<span style=color:#a6e22e>push</span>(<span style=color:#a6e22e>row</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>playButton</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createButton</span>(<span style=color:#e6db74>&#39;Iniciar/Pausar&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>playButton</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>150</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>scaleFactor</span>, <span style=color:#ae81ff>480</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>scaleFactor</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>playButton</span>.<span style=color:#a6e22e>mousePressed</span>(<span style=color:#a6e22e>togglePlay</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Crea el input de velocidad
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>speedInput</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createInput</span>();
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>labelspeed</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createElement</span>(<span style=color:#e6db74>&#39;label&#39;</span>, <span style=color:#e6db74>&#39;Velocidad:&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>labelspeed</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>150</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>scaleFactor</span>, <span style=color:#ae81ff>520</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>scaleFactor</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>speedInput</span>.<span style=color:#a6e22e>attribute</span>(<span style=color:#e6db74>&#39;type&#39;</span>, <span style=color:#e6db74>&#39;range&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>speedInput</span>.<span style=color:#a6e22e>attribute</span>(<span style=color:#e6db74>&#39;min&#39;</span>, <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>speedInput</span>.<span style=color:#a6e22e>attribute</span>(<span style=color:#e6db74>&#39;max&#39;</span>, <span style=color:#ae81ff>10</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>speedInput</span>.<span style=color:#a6e22e>attribute</span>(<span style=color:#e6db74>&#39;value&#39;</span>, <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>speedInput</span>.<span style=color:#a6e22e>input</span>(<span style=color:#a6e22e>updateSpeed</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>speedInput</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>280</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>scaleFactor</span>, <span style=color:#ae81ff>520</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>scaleFactor</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Crea el control deslizante de volumen
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>volumeLabel</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createElement</span>(<span style=color:#e6db74>&#39;label&#39;</span>, <span style=color:#e6db74>&#39;Volumen:&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>volumeLabel</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>150</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>scaleFactor</span>, <span style=color:#ae81ff>560</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>scaleFactor</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>volumeSlider</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createSlider</span>(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0.5</span>, <span style=color:#ae81ff>0.01</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>volumeSlider</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>280</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>scaleFactor</span>, <span style=color:#ae81ff>560</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>scaleFactor</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>volumeSlider</span>.<span style=color:#a6e22e>input</span>(<span style=color:#a6e22e>updateVolume</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Crea el control deslizante de cantidad de barras
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>barsLabel</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createElement</span>(<span style=color:#e6db74>&#39;label&#39;</span>, <span style=color:#e6db74>&#39;Cant. Barras:&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>barsLabel</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>150</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>scaleFactor</span>, <span style=color:#ae81ff>600</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>scaleFactor</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>barsSlider</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createSlider</span>(<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>10</span>, <span style=color:#a6e22e>numRectangles</span>, <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>barsSlider</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>280</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>scaleFactor</span>, <span style=color:#ae81ff>600</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>scaleFactor</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>barsSlider</span>.<span style=color:#a6e22e>input</span>(<span style=color:#a6e22e>updateBars</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>updateSpeed</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>currentSpeed</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>value</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>clearInterval</span>(<span style=color:#a6e22e>interval</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>playing</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>interval</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>setInterval</span>(<span style=color:#a6e22e>moveColumn</span>, <span style=color:#ae81ff>1000</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>currentSpeed</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>updateVolume</span>() {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>volume</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>value</span>();
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>8</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>sounds</span>[<span style=color:#e6db74>`Tambor</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>i</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>].<span style=color:#a6e22e>setVolume</span>(<span style=color:#a6e22e>volume</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>updateBars</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>numRectangles</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>value</span>();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>playing</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>false</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>togglePlay</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>playing</span> <span style=color:#f92672>=</span> <span style=color:#f92672>!</span><span style=color:#a6e22e>playing</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>playing</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>interval</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>setInterval</span>(<span style=color:#a6e22e>moveColumn</span>, <span style=color:#ae81ff>1000</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>currentSpeed</span>);
</span></span><span style=display:flex><span>  } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>clearInterval</span>(<span style=color:#a6e22e>interval</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>numRectangles</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>rectangleSpacing</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>100</span>; <span style=color:#75715e>// Espaciado entre rectángulos
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>moveColumn</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>columnIndex</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>columnIndex</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>) <span style=color:#f92672>%</span> <span style=color:#ae81ff>16</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Reproduce los sonidos de la columna actual para cada rectángulo
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>k</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>k</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>numRectangles</span>; <span style=color:#a6e22e>k</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>currentColumnIndex</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>columnIndex</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>k</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>rectangleSpacing</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>50</span>) <span style=color:#f92672>%</span> <span style=color:#ae81ff>16</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>currentColumnIndex</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span>) <span style=color:#a6e22e>currentColumnIndex</span> <span style=color:#f92672>+=</span> <span style=color:#ae81ff>16</span>; <span style=color:#75715e>// Asegura que el índice sea positivo
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>matrix</span>.<span style=color:#a6e22e>length</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>box</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>matrix</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>currentColumnIndex</span>];
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>box</span>.<span style=color:#a6e22e>color</span> <span style=color:#f92672>!==</span> <span style=color:#e6db74>&#34;transparent&#34;</span>) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>sounds</span>[<span style=color:#a6e22e>box</span>.<span style=color:#a6e22e>sound</span>].<span style=color:#a6e22e>play</span>();
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>draw</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>background</span>(<span style=color:#ae81ff>220</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>textSize</span>(<span style=color:#ae81ff>24</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>scaleFactor</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>matrixLabels</span>.<span style=color:#a6e22e>length</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>text</span>(<span style=color:#a6e22e>matrixLabels</span>[<span style=color:#a6e22e>i</span>], <span style=color:#ae81ff>20</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>scaleFactor</span>, (<span style=color:#ae81ff>50</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>85</span>) <span style=color:#f92672>*</span> <span style=color:#a6e22e>scaleFactor</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>matrix</span>.<span style=color:#a6e22e>length</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>j</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>matrix</span>[<span style=color:#a6e22e>i</span>].<span style=color:#a6e22e>length</span>; <span style=color:#a6e22e>j</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>noStroke</span>();
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>fill</span>(<span style=color:#a6e22e>matrix</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>].<span style=color:#a6e22e>color</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>rect</span>(<span style=color:#a6e22e>matrix</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>].<span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>matrix</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>].<span style=color:#a6e22e>y</span>, <span style=color:#ae81ff>50</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>scaleFactor</span>, <span style=color:#ae81ff>50</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>scaleFactor</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>k</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>k</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>numRectangles</span>; <span style=color:#a6e22e>k</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>currentLineX</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>150</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>scaleFactor</span> <span style=color:#f92672>+</span> ((<span style=color:#a6e22e>columnIndex</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>k</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>rectangleSpacing</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>50</span>) <span style=color:#f92672>%</span> <span style=color:#ae81ff>16</span>) <span style=color:#f92672>*</span> <span style=color:#ae81ff>50</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>scaleFactor</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fill</span>(<span style=color:#ae81ff>255</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>128</span>); <span style=color:#75715e>// Color rojo semitransparente para el rectángulo
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>noStroke</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>rect</span>(<span style=color:#a6e22e>currentLineX</span>, <span style=color:#ae81ff>50</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>scaleFactor</span>, <span style=color:#ae81ff>50</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>scaleFactor</span>, <span style=color:#ae81ff>400</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>scaleFactor</span>); <span style=color:#75715e>// Dibuja el rectángulo
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>mousePressed</span>() {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>activeColors</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>Set</span>();
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>matrix</span>.<span style=color:#a6e22e>length</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>TamborColor</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>colors</span>[<span style=color:#a6e22e>i</span>]; <span style=color:#75715e>// Obtenemos el color correspondiente al Tambor
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>j</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>matrix</span>[<span style=color:#a6e22e>i</span>].<span style=color:#a6e22e>length</span>; <span style=color:#a6e22e>j</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>mouseX</span> <span style=color:#f92672>&gt;</span> <span style=color:#a6e22e>matrix</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>].<span style=color:#a6e22e>x</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>mouseX</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>matrix</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>].<span style=color:#a6e22e>x</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>50</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>scaleFactor</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>mouseY</span> <span style=color:#f92672>&gt;</span> <span style=color:#a6e22e>matrix</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>].<span style=color:#a6e22e>y</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>mouseY</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>matrix</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>].<span style=color:#a6e22e>y</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>50</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>scaleFactor</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>matrix</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>].<span style=color:#a6e22e>color</span> <span style=color:#f92672>===</span> <span style=color:#a6e22e>TamborColor</span>) { <span style=color:#75715e>// Si el color es el del Tambor
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>          <span style=color:#a6e22e>matrix</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>].<span style=color:#a6e22e>color</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;transparent&#34;</span>; <span style=color:#75715e>// Cambiamos a transparente
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>          <span style=color:#a6e22e>sounds</span>[<span style=color:#a6e22e>matrix</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>].<span style=color:#a6e22e>sound</span>].<span style=color:#a6e22e>stop</span>(); <span style=color:#75715e>// Detenemos el sonido
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        } <span style=color:#66d9ef>else</span> { <span style=color:#75715e>// Si no, cambiamos al color del Tambor
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>          <span style=color:#a6e22e>matrix</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>].<span style=color:#a6e22e>color</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>TamborColor</span>;
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>sounds</span>[<span style=color:#a6e22e>matrix</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>].<span style=color:#a6e22e>sound</span>].<span style=color:#a6e22e>play</span>();
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>activeColors</span>.<span style=color:#a6e22e>add</span>(<span style=color:#a6e22e>TamborColor</span>); <span style=color:#75715e>// Agregamos el color activo al conjunto
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        }
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Reproducimos los sonidos de los colores activos
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>color</span> <span style=color:#66d9ef>of</span> <span style=color:#a6e22e>activeColors</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>soundKey</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>colorToSound</span>[<span style=color:#a6e22e>color</span>];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>soundKey</span>) {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>sounds</span>[<span style=color:#a6e22e>soundKey</span>].<span style=color:#a6e22e>play</span>();
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div></details><br><h2 id=resultados-1>Resultados
<a class=anchor href=#resultados-1>#</a></h2><p style=text-align:justify>A continuación vamos a dejar un ejemplo de cómo puedes habilitar la matriz para que al momento de reproducir obtengas un ritmo interesante, la idea es jugar con cada uno de los sliders presentes, sobre todo el de la cantidad de barras para dar ese efecto de un kinegrama. Adicional recordemos que inicialmente se tiene la matriz vacía, esta consta de 8 filas por 16 columnas por lo que tendrás la opción de habilitar hasta 128 casillas, cada fila asociada a un color y sonido. Lo único que se debe hacer es dar click en cualquier parte del lienzo blanco para habilitar o deshabilitar los colores que detras tendrán un sonido asociado.</p><p><strong>Ejemplo</strong></p><img src=/showcase/sketches/masking/ejercicio1/ejemplo.png><p><strong>Kinegrama Acústico</strong></p><p>El siguiente es el resultado final en el cual se podrán probar una gran cantidad de variaciones de sonido.</p><iframe id=kinegram_acustic style=width:720px;height:525px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/addons/p5.sound.min.js></script>
            
            
            
            
            
            <script src=/showcase/sketches/masking/ejercicio1/kinegram_acustic.js></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe><p style=text-align:justify>Como se observa, se pueden crear diversos ritmos a partir de la selección de colores los cuales representan un sonido dentro de la matriz, y se puede jugar con esto de muchas formas, aumentando la velocidad, el volumen, y lo que más nos interesa, aumentar la cantidad de barras que vendrían a representar la capa de enmascaramiento, que en este caso en lugar de ocultar, permite mostrar lo que hay detrás de esos colores, es decir un sonido asociado, dando movimiento no a una imágen pero si a una serie de sonidos que en conjunto forman un ritmo o una melodía musical.</p><h2 id=conclusión-y-trabajo-futuro-1>Conclusión y Trabajo Futuro
<a class=anchor href=#conclusi%c3%b3n-y-trabajo-futuro-1>#</a></h2><p style=text-align:justify>El Kinegrama Acústico es un ejercicio curioso que combina técnicas visuales y auditivas de manera innovadora y atractiva, al tiempo que demuestra el potencial de la inteligencia artificial y la interacción entre la visualización y el sonido en el diseño de experiencias audiovisuales. Esta herramienta puede inspirar a usuarios y creadores a repensar y experimentar con nuevas formas de interactuar con el sonido y la visualización, expandiendo así los límites de la creatividad y la innovación.
Durante el desarrollo de este ejercicio surgieron múltiples ideas, como por ejemplo alternar desde la interfáz cada uno de los sonidos e incluso la posibilidad de incluir otro tipo de intrumentos musicales, el piano sería una excelente opción y se espera a futuro poder implementar algo por el estilo en donde incluso en la interfaz se observen las octavas de este instrumento y también se llega a imaginar la posibilidad de utilizar una máscara que fluya en el tiempo y tenga otro tipo de acciones como desaparecer y aparecer en ciertos intervalos de manera que de la sensación de interpretación de una pieza musical.</p><h1 id=ejercicio-1c>Ejercicio 1C
<a class=anchor href=#ejercicio-1c>#</a></h1><h2 id=introducción-1>Introducción
<a class=anchor href=#introducci%c3%b3n-1>#</a></h2><p><strong>Patrones de Moiré</strong></p><p style=text-align:justify>Un patrón de Moiré es un fenómeno óptico que ocurre cuando dos o más patrones de líneas, puntos o curvas superpuestos se combinan y crean un patrón de interferencia que no está presente en ninguno de los patrones originales. Los patrones de Moiré son el resultado de la interacción entre las frecuencias espaciales de los patrones superpuestos y, a menudo, se consideran artefactos indeseables en imágenes impresas, escaneadas o en la fotografía digital.</p><p style=text-align:justify>A lo largo de la historia, los patrones de Moiré han sido objeto de estudio en diversos campos, como la física, la matemática, el arte y la ingeniería.</p><p style=text-align:justify>Física: En óptica, los patrones de Moiré se utilizan para estudiar la interferencia de la luz y cómo las ondas interactúan entre sí. En el caso de las rejillas, la interferencia constructiva y destructiva de las ondas de luz crea los patrones visibles de Moiré.</p><p style=text-align:justify>Matemáticas: Los patrones de Moiré se pueden describir matemáticamente utilizando funciones periódicas, como las funciones trigonométricas seno y coseno. Estas funciones ayudan a comprender cómo se forman y cambian los patrones de Moiré en función de las propiedades de las rejillas, como la orientación y el espaciado.</p><p style=text-align:justify>Arte: Los patrones de Moiré han sido utilizados por artistas y diseñadores en diversas formas, desde la creación de ilusiones ópticas hasta la incorporación de patrones de Moiré en estampados y diseños textiles. Los patrones pueden ser visualmente intrigantes y proporcionar una sensación de movimiento y dinamismo en la obra de arte.</p><p style=text-align:justify>Ingeniería: Los patrones de Moiré se han aplicado en una amplia gama de campos de la ingeniería, como la metrología, la fotografía y la impresión. Por ejemplo, en metrología, los patrones de Moiré se pueden utilizar para medir deformaciones o desplazamientos en estructuras y materiales. En la impresión y la fotografía, la aparición no deseada de patrones de Moiré puede ser un problema cuando se escanean o imprimen imágenes que contienen rejillas finas, como las imágenes de televisión o las fotografías de edificios con ventanas muy juntas.</p><h2 id=código-y-solución-2>Código y Solución
<a class=anchor href=#c%c3%b3digo-y-soluci%c3%b3n-2>#</a></h2><p>A continuación se presenta el código de dos patrones de moiré</p><p style=text-align:justify>El de la izquierda corresponde a un patrón de Moiré el cual consiste en líneas que se desplazan en dirección radial a diversad velocidades causando un efecto bastante interesante</p><details><summary>Moire_1</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#75715e>//Patron moiré
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>angle</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>isPaused</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>false</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>pauseButton</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>setup</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>createCanvas</span>(<span style=color:#ae81ff>300</span>, <span style=color:#ae81ff>300</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Crear botón de pausa / reproducción y agregar función de control
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>pauseButton</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createButton</span>(<span style=color:#e6db74>&#39;Pausar&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pauseButton</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>10</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pauseButton</span>.<span style=color:#a6e22e>mousePressed</span>(<span style=color:#a6e22e>togglePause</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>draw</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>background</span>(<span style=color:#ae81ff>220</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Dibujar el círculo en el centro de la pantalla
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>centerX</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>width</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>centerY</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>height</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>circleSize</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>min</span>(<span style=color:#a6e22e>width</span>, <span style=color:#a6e22e>height</span>) <span style=color:#f92672>*</span> <span style=color:#ae81ff>0.8</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>noFill</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>stroke</span>(<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>strokeWeight</span>(<span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>ellipse</span>(<span style=color:#a6e22e>centerX</span>, <span style=color:#a6e22e>centerY</span>, <span style=color:#a6e22e>circleSize</span>, <span style=color:#a6e22e>circleSize</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Dibujar el patrón moiré
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>translate</span>(<span style=color:#a6e22e>centerX</span>, <span style=color:#a6e22e>centerY</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>strokeWeight</span>(<span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>r</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>circleSize</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>; <span style=color:#a6e22e>r</span> <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>r</span> <span style=color:#f92672>-=</span> <span style=color:#ae81ff>10</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>r</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>cos</span>(<span style=color:#a6e22e>angle</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>r</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>500</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>y</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>r</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>sin</span>(<span style=color:#a6e22e>angle</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>r</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>500</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>line</span>(<span style=color:#f92672>-</span><span style=color:#a6e22e>x</span>, <span style=color:#f92672>-</span><span style=color:#a6e22e>y</span>, <span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>y</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Actualizar el ángulo para hacer que el patrón se mueva, si no está pausado
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>isPaused</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>angle</span> <span style=color:#f92672>+=</span> <span style=color:#ae81ff>0.05</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Función para pausar y reanudar el movimiento de las líneas
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>togglePause</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>isPaused</span> <span style=color:#f92672>=</span> <span style=color:#f92672>!</span><span style=color:#a6e22e>isPaused</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pauseButton</span>.<span style=color:#a6e22e>html</span>(<span style=color:#a6e22e>isPaused</span> <span style=color:#f92672>?</span> <span style=color:#e6db74>&#39;Reproducir&#39;</span> <span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;Pausar&#39;</span>);
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div></details><br><p style=text-align:justify>El de la derecha corresponde a un patrón de Moiré el cual dibuja dos conjuntos de líneas diagonales que se cruzan en ángulos opuestos. Los ángulos de las líneas cambian con el tiempo, lo que crea un efecto de animación en el patrón de Moiré. En el código se puede experimentar con los valores de angleSpeed y lineSpacing para generar diferentes patrones de Moiré y efectos visuales, mientras que en la interfaz se ha creado un botón para reproducir y pausar dicho patrón.</p><details><summary>Moire_2</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>angle1</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>angle2</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>angleSpeed</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.02</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>lineSpacing</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>5</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>isPaused</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>false</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>pauseButton</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>setup</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>createCanvas</span>(<span style=color:#ae81ff>300</span>, <span style=color:#ae81ff>300</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Crear botón de pausa / reproducción y agregar función de control
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>pauseButton</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createButton</span>(<span style=color:#e6db74>&#39;Pausar&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pauseButton</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>10</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pauseButton</span>.<span style=color:#a6e22e>mousePressed</span>(<span style=color:#a6e22e>togglePause</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>draw</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>background</span>(<span style=color:#ae81ff>255</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>stroke</span>(<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Dibujar el primer conjunto de líneas diagonales
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>push</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>translate</span>(<span style=color:#a6e22e>width</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>height</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rotate</span>(<span style=color:#a6e22e>angle1</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>=</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>width</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>; <span style=color:#a6e22e>x</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>width</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>; <span style=color:#a6e22e>x</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>lineSpacing</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>line</span>(<span style=color:#a6e22e>x</span>, <span style=color:#f92672>-</span><span style=color:#a6e22e>height</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>height</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pop</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Dibujar el segundo conjunto de líneas diagonales
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>push</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>translate</span>(<span style=color:#a6e22e>width</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>height</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rotate</span>(<span style=color:#a6e22e>angle2</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>=</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>width</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>; <span style=color:#a6e22e>x</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>width</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>; <span style=color:#a6e22e>x</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>lineSpacing</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>line</span>(<span style=color:#a6e22e>x</span>, <span style=color:#f92672>-</span><span style=color:#a6e22e>height</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>height</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pop</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Actualizar los ángulos de rotación si no está pausado
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>isPaused</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>angle1</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>angleSpeed</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>angle2</span> <span style=color:#f92672>-=</span> <span style=color:#a6e22e>angleSpeed</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Función para pausar y reanudar el movimiento de las líneas
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>togglePause</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>isPaused</span> <span style=color:#f92672>=</span> <span style=color:#f92672>!</span><span style=color:#a6e22e>isPaused</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pauseButton</span>.<span style=color:#a6e22e>html</span>(<span style=color:#a6e22e>isPaused</span> <span style=color:#f92672>?</span> <span style=color:#e6db74>&#39;Reproducir&#39;</span> <span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;Pausar&#39;</span>);
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div></details><p><iframe id=moire1 style=width:320px;height:320px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/addons/p5.sound.min.js></script>
            
            
            
            
            
            <script src=/showcase/sketches/masking/ejercicio1/moire1.js></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe>
                    
<iframe id=moire2 style=width:320px;height:320px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/addons/p5.sound.min.js></script>
            
            
            
            
            
            <script src=/showcase/sketches/masking/ejercicio1/moire2.js></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe></p><h2 id=conclusiones-y-trabajo-futuro>Conclusiones y Trabajo Futuro
<a class=anchor href=#conclusiones-y-trabajo-futuro>#</a></h2><p style=text-align:justify>Los patrones de Moiré al igual que los Kinegramas, tienen cierta similitud en cuanto al manejo de capas de patrones superpuestos. Sin embargo, sus propósitos son distintos. Mientras que los kinegramas son una técnica de animación que utiliza una máscara de barras para crear la ilusión de movimiento, los patrones de Moiré son un efecto visual de interferencia que ocurre cuando se superponen dos o más patrones repetitivos.</p><p style=text-align:justify>En el trabajo futuro se puede pensar en la combinación de formas y colores los cuales se pueden aplicar en arte y diseño, por otro lado se podrían crear animaciones y transiciones en trabajos de desarrollo web por ejemplo; otra de las cosas es que se puede representar informacion en visualizaciones de datos, como por ejemplo para representar la densidad de poblacion, el tráfico vehicular o las fluctuaciones de temperatura en un mapa, el sin fin de aplicaciones es bastante extenso y abierto a cualquier ámbito. En los códigos realizados, se pueden añadir más interacción del usuario para controlar parámetros de velocidad, tamaño, espaciado y orientación de las lineas. También se ha pensado en la adición de imágenes o texto en la escena y observar cómo interactúan con los patrones.</p></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/visualcomputing/showcase/commit/f8a46bf99b086ea1e3c2d8b183c587f6ec4b52a3 title='Last modified by caaninome1 | March 31, 2023' target=_blank rel=noopener><img src=/showcase/svg/calendar.svg class=book-icon alt=Calendar>
<span>March 31, 2023</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#kinegrams-y-patrones-de-moiré>Kinegrams y Patrones de Moiré</a></li><li><a href=#ejercicio-1a>Ejercicio 1A</a><ul><li><a href=#introducción-y-antecedentes>Introducción y Antecedentes</a></li><li><a href=#marco-teórico>Marco Teórico</a></li><li><a href=#código-y-solución>Código y Solución</a></li><li><a href=#resultados>Resultados</a></li><li><a href=#conclusión-y-trabajo-futuro>Conclusión y trabajo Futuro</a></li></ul></li><li><a href=#ejercicio-1b>Ejercicio 1B</a><ul><li><a href=#introducción>Introducción</a></li><li><a href=#marco-teórico-1>Marco Teórico</a></li><li><a href=#código-y-solución-1>Código Y Solución</a></li><li><a href=#resultados-1>Resultados</a></li><li><a href=#conclusión-y-trabajo-futuro-1>Conclusión y Trabajo Futuro</a></li></ul></li><li><a href=#ejercicio-1c>Ejercicio 1C</a><ul><li><a href=#introducción-1>Introducción</a></li><li><a href=#código-y-solución-2>Código y Solución</a></li><li><a href=#conclusiones-y-trabajo-futuro>Conclusiones y Trabajo Futuro</a></li></ul></li></ul></nav></div></aside></main></body></html>