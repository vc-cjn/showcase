<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Ejercicio Blending # Sobre el Color Blending # El color blending se refiere al proceso de combinar dos o más colores para crear un nuevo color o una transición suave entre diferentes colores. Se utiliza comúnmente en diversas disciplinas artísticas como la pintura, el diseño gráfico, el arte digital e incluso en aplicaciones cotidianas como el maquillaje y el diseño de interiores.
En el color blending, se mezclan diferentes pigmentos o tonos para producir colores intermedios o degradados."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content><meta property="og:description" content="Ejercicio Blending # Sobre el Color Blending # El color blending se refiere al proceso de combinar dos o más colores para crear un nuevo color o una transición suave entre diferentes colores. Se utiliza comúnmente en diversas disciplinas artísticas como la pintura, el diseño gráfico, el arte digital e incluso en aplicaciones cotidianas como el maquillaje y el diseño de interiores.
En el color blending, se mezclan diferentes pigmentos o tonos para producir colores intermedios o degradados."><meta property="og:type" content="article"><meta property="og:url" content="https://vc-cjn.github.io/showcase/docs/shortcodes/Shaders/Blending/Ejercicio-1/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2023-06-03T15:52:43-05:00"><title>Ejercicio 1 | Showcase Template</title><link rel=manifest href=/showcase/manifest.json><link rel=icon href=/showcase/favicon.png type=image/x-icon><link rel=stylesheet href=/showcase/book.min.4b35fed0bea034bbc19c89c71e14b73fb9c68cfcc586b9382adfb9b7b103ba06.css integrity="sha256-SzX+0L6gNLvBnInHHhS3P7nGjPzFhrk4Kt+5t7EDugY=" crossorigin=anonymous><script defer src=/showcase/flexsearch.min.js></script>
<script defer src=/showcase/en.search.min.3a8d658c77eb93c7f12a2b8af49a700131e474f288eefb605d9fa61576dbe5a7.js integrity="sha256-Oo1ljHfrk8fxKiuK9JpwATHkdPKI7vtgXZ+mFXbb5ac=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/showcase/><span>Showcase Template</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li class=book-section-flat><span>Shortcodes</span><ul><li><input type=checkbox id=section-71de8235f72db30668db972cb3ebe56f class=toggle>
<label for=section-71de8235f72db30668db972cb3ebe56f class="flex justify-between"><a href=/showcase/docs/shortcodes/Equipo-de-Trabajo/>Equipo De Trabajo</a></label><ul><li><a href=/showcase/docs/shortcodes/Equipo-de-Trabajo/Carlos-Ni%C3%B1o/>Carlos Niño</a></li><li><a href=/showcase/docs/shortcodes/Equipo-de-Trabajo/Juan-Oviedo/>Juan Oviedo</a></li><li><a href=/showcase/docs/shortcodes/Equipo-de-Trabajo/Nicol%C3%A1s-Rincon/>Nicolás Rincon</a></li></ul></li><li><input type=checkbox id=section-37d133451a87125afc7e4d4a60cdb12b class=toggle checked>
<label for=section-37d133451a87125afc7e4d4a60cdb12b class="flex justify-between"><a href=/showcase/docs/shortcodes/Shaders/>Shaders</a></label><ul><li><input type=checkbox id=section-edeb9cc2709510b029c1fbd4e97d4944 class=toggle checked>
<label for=section-edeb9cc2709510b029c1fbd4e97d4944 class="flex justify-between"><a href=/showcase/docs/shortcodes/Shaders/Blending/>Blending</a></label><ul><li><a href=/showcase/docs/shortcodes/Shaders/Blending/Ejercicio-1/ class=active>Ejercicio 1</a></li></ul></li><li><input type=checkbox id=section-123f1fa7496265b40605bc65626fae07 class=toggle>
<label for=section-123f1fa7496265b40605bc65626fae07 class="flex justify-between"><a href=/showcase/docs/shortcodes/Shaders/Photomosaic/>Photomosaic</a></label><ul><li><a href=/showcase/docs/shortcodes/Shaders/Photomosaic/Ejercicio-1/>Ejercicio 1</a></li></ul></li><li><input type=checkbox id=section-be9a940056fd84a3fda535c049954464 class=toggle>
<label for=section-be9a940056fd84a3fda535c049954464 class="flex justify-between"><a href=/showcase/docs/shortcodes/Shaders/Procedural-Texturing/>Procedural Texturing</a></label><ul><li><a href=/showcase/docs/shortcodes/Shaders/Procedural-Texturing/Ejercicio-1/>Ejercicio 1</a></li></ul></li><li><input type=checkbox id=section-c5051a6467a2b46b514156e185242e0c class=toggle>
<label for=section-c5051a6467a2b46b514156e185242e0c class="flex justify-between"><a href=/showcase/docs/shortcodes/Shaders/Spatial-Coherence/>Spatial Coherence</a></label><ul><li><a href=/showcase/docs/shortcodes/Shaders/Spatial-Coherence/Ejercicio-1/>Ejercicio 1</a></li></ul></li></ul></li><li><input type=checkbox id=section-0ef3bbbb6534eb508af86d78f05590c5 class=toggle>
<label for=section-0ef3bbbb6534eb508af86d78f05590c5 class="flex justify-between"><a href=/showcase/docs/shortcodes/Space-Transformation/>Space Transformation</a></label><ul><li><input type=checkbox id=section-bc14cd1abf9dee934b24c9d12ef439a1 class=toggle>
<label for=section-bc14cd1abf9dee934b24c9d12ef439a1 class="flex justify-between"><a href=/showcase/docs/shortcodes/Space-Transformation/3-D-Gui/>3 D Gui</a></label><ul><li><a href=/showcase/docs/shortcodes/Space-Transformation/3-D-Gui/Ejercicio-1/>Ejercicio 1</a></li></ul></li></ul></li><li><input type=checkbox id=section-c773256a199be81a62574d17112edc8c class=toggle>
<label for=section-c773256a199be81a62574d17112edc8c class="flex justify-between"><a href=/showcase/docs/shortcodes/Visual-Illusions/>Visual Illusions</a></label><ul><li><input type=checkbox id=section-6be1497692c59886a7338ce628c128f2 class=toggle>
<label for=section-6be1497692c59886a7338ce628c128f2 class="flex justify-between"><a href=/showcase/docs/shortcodes/Visual-Illusions/Coloring/>Coloring</a></label><ul><li><a href=/showcase/docs/shortcodes/Visual-Illusions/Coloring/Ejercicio-1/>Ejercicio 1</a></li><li><a href=/showcase/docs/shortcodes/Visual-Illusions/Coloring/Ejercicio-2/>Ejercicio 2</a></li><li><a href=/showcase/docs/shortcodes/Visual-Illusions/Coloring/Ejercicio-Blending/>Ejercicio Blending</a></li></ul></li><li><input type=checkbox id=section-b0ba6863af02a61f4b1900615fd588bd class=toggle>
<label for=section-b0ba6863af02a61f4b1900615fd588bd class="flex justify-between"><a href=/showcase/docs/shortcodes/Visual-Illusions/Mach-Bands/>Mach Bands</a></label><ul><li><a href=/showcase/docs/shortcodes/Visual-Illusions/Mach-Bands/Ejercicio-1/>Ejercicio 1</a></li></ul></li><li><input type=checkbox id=section-d48d8dc31907a4ec1fedece9fdd58a7d class=toggle>
<label for=section-d48d8dc31907a4ec1fedece9fdd58a7d class="flex justify-between"><a href=/showcase/docs/shortcodes/Visual-Illusions/Masking/>Masking</a></label><ul><li><a href=/showcase/docs/shortcodes/Visual-Illusions/Masking/Ejercicio-1/>Ejercicio 1</a></li><li><a href=/showcase/docs/shortcodes/Visual-Illusions/Masking/Ejercicio-3/>Ejercicio 3</a></li></ul></li><li><input type=checkbox id=section-ebaa607a5709cc366636ff5ef7d1946f class=toggle>
<label for=section-ebaa607a5709cc366636ff5ef7d1946f class="flex justify-between"><a href=/showcase/docs/shortcodes/Visual-Illusions/Spatial-Coherence/>Spatial Coherence</a></label><ul><li><a href=/showcase/docs/shortcodes/Visual-Illusions/Spatial-Coherence/Ejercicio-1/>Ejercicio 1</a></li></ul></li></ul></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/showcase/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Ejercicio 1</strong>
<label for=toc-control><img src=/showcase/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#ejercicio-blending>Ejercicio Blending</a><ul><li><a href=#sobre-el-color-blending>Sobre el Color Blending</a></li><li><a href=#blending-de-color-digital>Blending de Color Digital</a></li><li><a href=#funcionamiento>Funcionamiento</a></li><li><a href=#conclusiones>Conclusiones</a></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=ejercicio-blending>Ejercicio Blending
<a class=anchor href=#ejercicio-blending>#</a></h1><h2 id=sobre-el-color-blending>Sobre el Color Blending
<a class=anchor href=#sobre-el-color-blending>#</a></h2><p>El color blending se refiere al proceso de combinar dos o más colores para crear un nuevo color o una transición suave entre diferentes colores. Se utiliza comúnmente en diversas disciplinas artísticas como la pintura, el diseño gráfico, el arte digital e incluso en aplicaciones cotidianas como el maquillaje y el diseño de interiores.</p><p>En el color blending, se mezclan diferentes pigmentos o tonos para producir colores intermedios o degradados. Los colores primarios, es decir, el rojo, azul y amarillo, se utilizan a menudo como base para el color blending. Al mezclar estos colores primarios en diferentes proporciones, se pueden crear colores secundarios como el naranja, verde y morado.</p><p>El color blending se puede lograr mediante diferentes técnicas, según el medio o las herramientas que se utilicen. Aquí hay algunos métodos comunes:</p><p><strong>Blending físico:</strong> Esto implica combinar físicamente diferentes pigmentos o pinturas de colores para crear un color mezclado. Por ejemplo, mezclar pinturas azul y amarilla resultará en verde.</p><p><strong>Blending óptico:</strong> La mezcla óptica ocurre cuando se colocan pequeños puntos o trazos de diferentes colores cerca uno del otro, y el ojo humano los percibe como un color mezclado. Esta técnica se utiliza comúnmente en el puntillismo, donde se aplican pequeños puntos de diferentes colores uno al lado del otro para crear un efecto mezclado general.</p><p><strong>Blending digital:</strong> En el arte digital y el diseño gráfico, se puede lograr el color blending a través de herramientas de software. Programas como Photoshop u otros programas de edición gráfica ofrecen varios modos y herramientas de mezcla que permiten a los artistas crear transiciones suaves y mezclar colores de manera fluida.</p><p>La elección de la técnica de mezcla depende del efecto deseado y del medio que se esté utilizando. Los artistas y diseñadores suelen experimentar con diferentes técnicas de mezcla para lograr combinaciones de colores específicas, degradados o texturas en su trabajo.</p><h2 id=blending-de-color-digital>Blending de Color Digital
<a class=anchor href=#blending-de-color-digital>#</a></h2><p>En muchos programas de edición de imágenes, se utilizan modelos de color como el modelo RGB (rojo, verde y azul) o el modelo CMYK (cian, magenta, amarillo y negro) para representar los colores. Cada canal de color en estos modelos puede tener un valor que varía de 0 a 255 (en el caso del modelo RGB) o de 0 a 100 (en el caso del modelo CMYK).</p><p>Cuando se realiza la mezcla de colores, los valores de los canales de color de los colores de origen se combinan de alguna manera para generar los valores de los colores resultantes. Por ejemplo, al mezclar un color rojo intenso con un color azul intenso utilizando un algoritmo de mezcla, es posible obtener una transición suave entre los dos colores, creando tonos de púrpura o magenta en el proceso.</p><p>Los programas de edición de imágenes suelen ofrecer diferentes modos de mezcla, como el modo normal, que simplemente reemplaza el color de fondo con el color frontal; el modo multiplicar, que oscurece el color de fondo al multiplicarlo por el color frontal; el modo de superposición, que combina los colores de manera más compleja, entre otros. Estos modos de mezcla proporcionan diferentes resultados y efectos visuales.</p><p>Los blending modes implementados son: multiply, add (linear dodge), overlay, color burn, linear burn, difference, divide, vivid light.</p><hr><h2 id=funcionamiento>Funcionamiento
<a class=anchor href=#funcionamiento>#</a></h2><p>En este ejercicio, se emplea un shader de nombre blend (Se puede revisar bajo el ejercicio). Inicialmente, se realiza la carga de la imagen a la pantalla, así como la renderización de un color picker que tiene como proposito permitir al usuario el color a aplicar con el blend. Es importante notar, que para facilitar el procesamiento, se envia al shader el color normalizado (Un valor entre 0 y 1 producto de la división del valor RGB por 255)</p><p>Una vez en el shader, el mismo emplea cada texel que recibe en la imagen cargada (Textura) y hace el calculo con el color que ha recibido. Esta textura ajustada se renderiza bajo la imagen inicial.</p><p>Se implementarion varios modos de blending con el proposito de demostrar su funcionamiento.</p><iframe id=blend style=width:800px;height:900px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/addons/p5.sound.min.js></script>
             <script src=https://cdn.jsdelivr.net/gh/VisualComputing/p5.treegl/p5.treegl.js></script> 
            
            
            
            
            <script src=/showcase/sketches/blending/blend.js></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe>
<details><summary>Sketch Code</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>blendShader</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>colorB</span>; <span style=color:#75715e>// picked by user
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>B</span>; <span style=color:#75715e>// vec4 vector sent to shader
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>tex</span>; <span style=color:#75715e>// shader output texture
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>cpickerB</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>bslider</span>; <span style=color:#75715e>// brightness slider
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>bmselect</span>; <span style=color:#75715e>// blending mode select
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>brightness</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>mode</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>img</span>; <span style=color:#75715e>// shader input texture
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>input</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>video_on</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Cargamos el shader desde los archivos
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>preload</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>blendShader</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>readShader</span>(<span style=color:#e6db74>&#39;/showcase/sketches/blending/blend.frag&#39;</span>, { <span style=color:#a6e22e>matrices</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>NONE</span>, <span style=color:#a6e22e>varyings</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>texcoords2</span> });
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>setup</span>() {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>createCanvas</span>(<span style=color:#ae81ff>900</span>, <span style=color:#ae81ff>850</span>, <span style=color:#a6e22e>WEBGL</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Inicializamos el color picker que usaremos para aplicar el color
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>colorB</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>color</span>(<span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>18</span>, <span style=color:#ae81ff>255</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>tex</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createGraphics</span>(<span style=color:#ae81ff>800</span>, <span style=color:#ae81ff>800</span>, <span style=color:#a6e22e>WEBGL</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>cpickerB</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createColorPicker</span>(<span style=color:#a6e22e>colorB</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>cpickerB</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>490</span>, <span style=color:#ae81ff>200</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>bslider</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createSlider</span>(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0.05</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>bslider</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>490</span>, <span style=color:#ae81ff>120</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>bslider</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;width&#39;</span>, <span style=color:#e6db74>&#39;80px&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>bmselect</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createSelect</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>bmselect</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>490</span>, <span style=color:#ae81ff>160</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>bmselect</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;MULTIPLY&#39;</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>bmselect</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;ADD (LINEAR DODGE)&#39;</span>, <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>bmselect</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;OVERLAY&#39;</span>, <span style=color:#ae81ff>3</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>bmselect</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;COLOR BURN&#39;</span>, <span style=color:#ae81ff>6</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>bmselect</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;LINEAR BURN&#39;</span>, <span style=color:#ae81ff>7</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>bmselect</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;DIFFERENCE&#39;</span>, <span style=color:#ae81ff>8</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>bmselect</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;DIVIDE&#39;</span>, <span style=color:#ae81ff>9</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>bmselect</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;VIVID LIGHT&#39;</span>, <span style=color:#ae81ff>13</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>bmselect</span>.<span style=color:#a6e22e>selected</span>(<span style=color:#e6db74>&#39;MULTIPLY&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>img</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadImage</span>(<span style=color:#e6db74>&#39;/showcase/sketches/blending/image.jpg&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>video_on</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createCheckbox</span>(<span style=color:#e6db74>&#39;Usar Video&#39;</span>, <span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>video_on</span>.<span style=color:#a6e22e>changed</span>(() =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>video_on</span>.<span style=color:#a6e22e>checked</span>()) {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>img</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createVideo</span>([<span style=color:#e6db74>&#39;/showcase/sketches/blending/video0.mp4&#39;</span>]);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>loop</span>();
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>img</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadImage</span>(<span style=color:#e6db74>&#39;/showcase/sketches/blending/image.jpg&#39;</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>hide</span>();     
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>pause</span>();
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>blendShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;texture&#39;</span>, <span style=color:#a6e22e>img</span>);
</span></span><span style=display:flex><span>  })
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>draw</span>() {
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>colorB</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>cpickerB</span>.<span style=color:#a6e22e>color</span>()
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>background</span>(<span style=color:#ae81ff>255</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>image</span>(<span style=color:#a6e22e>img</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>450</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>400</span>, <span style=color:#ae81ff>400</span>, <span style=color:#ae81ff>400</span>); 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#75715e>// vec4 vector sent to shader
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>B</span> <span style=color:#f92672>=</span> [<span style=color:#a6e22e>colorB</span>.<span style=color:#a6e22e>_getRed</span>() <span style=color:#f92672>/</span> <span style=color:#ae81ff>255</span>, <span style=color:#a6e22e>colorB</span>.<span style=color:#a6e22e>_getGreen</span>() <span style=color:#f92672>/</span> <span style=color:#ae81ff>255</span>, <span style=color:#a6e22e>colorB</span>.<span style=color:#a6e22e>_getBlue</span>() <span style=color:#f92672>/</span> <span style=color:#ae81ff>255</span>, <span style=color:#a6e22e>alpha</span>(<span style=color:#a6e22e>colorB</span>) <span style=color:#f92672>/</span> <span style=color:#ae81ff>255</span>] <span style=color:#75715e>// normalized
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>brightness</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>bslider</span>.<span style=color:#a6e22e>value</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>mode</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>bmselect</span>.<span style=color:#a6e22e>value</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>tex</span>.<span style=color:#a6e22e>shader</span>(<span style=color:#a6e22e>blendShader</span>)
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>blendShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;texture&#39;</span>, <span style=color:#a6e22e>img</span>); <span style=color:#75715e>// each texel will be color A
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>blendShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;colorB&#39;</span>, <span style=color:#a6e22e>B</span>); 
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>blendShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;brightness&#39;</span>, <span style=color:#a6e22e>brightness</span>); 
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>blendShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;mode&#39;</span>, <span style=color:#a6e22e>mode</span>); 
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>tex</span>.<span style=color:#a6e22e>square</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>texture</span>(<span style=color:#a6e22e>tex</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>square</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>850</span>, <span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>800</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div></details><details><summary>Blend Shader</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-glsl data-lang=glsl><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>precision</span> <span style=color:#66d9ef>mediump</span> <span style=color:#66d9ef>float</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>uniform</span> <span style=color:#66d9ef>vec4</span> colorB;
</span></span><span style=display:flex><span><span style=color:#66d9ef>uniform</span> <span style=color:#66d9ef>float</span> brightness; <span style=color:#75715e>// [0, 1]</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>uniform</span> <span style=color:#66d9ef>int</span> mode;
</span></span><span style=display:flex><span><span style=color:#66d9ef>uniform</span> <span style=color:#66d9ef>sampler2D</span> texture;
</span></span><span style=display:flex><span><span style=color:#66d9ef>varying</span> <span style=color:#66d9ef>vec2</span> texcoords2;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> main() {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// https://stackoverflow.com/questions/67576655/why-my-texture-coordinates-are-inverted-each-time-i-call-my-glsl-shader-in-p5js</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>vec4</span> colorA <span style=color:#f92672>=</span> texture2D(texture, <span style=color:#66d9ef>vec2</span>(texcoords2.x, <span style=color:#ae81ff>1.0</span> <span style=color:#f92672>-</span> texcoords2.y)); <span style=color:#75715e>// each texel is color A</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (mode <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>) { <span style=color:#75715e>// multiply</span>
</span></span><span style=display:flex><span>    gl_FragColor <span style=color:#f92672>=</span> colorA <span style=color:#f92672>*</span> colorB <span style=color:#f92672>*</span> brightness;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (mode <span style=color:#f92672>==</span> <span style=color:#ae81ff>1</span>) { <span style=color:#75715e>// add (linear dodge)</span>
</span></span><span style=display:flex><span>    gl_FragColor <span style=color:#f92672>=</span> (colorA <span style=color:#f92672>+</span> colorB) <span style=color:#f92672>*</span> brightness;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (mode <span style=color:#f92672>==</span> <span style=color:#ae81ff>2</span>) { <span style=color:#75715e>// screen</span>
</span></span><span style=display:flex><span>    gl_FragColor <span style=color:#f92672>=</span> (<span style=color:#ae81ff>1.</span> <span style=color:#f92672>-</span> (<span style=color:#ae81ff>1.</span> <span style=color:#f92672>-</span> colorA) <span style=color:#f92672>*</span> (<span style=color:#ae81ff>1.</span> <span style=color:#f92672>-</span> colorB)) <span style=color:#f92672>*</span> brightness;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (mode <span style=color:#f92672>==</span> <span style=color:#ae81ff>3</span>) { <span style=color:#75715e>// overlay</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> R <span style=color:#f92672>=</span> (colorA[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0.5</span>) <span style=color:#f92672>?</span> <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> colorA[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>*</span> colorB[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>:</span> (<span style=color:#ae81ff>1.</span> <span style=color:#f92672>-</span> (<span style=color:#ae81ff>1.</span> <span style=color:#f92672>-</span> colorA[<span style=color:#ae81ff>0</span>]) <span style=color:#f92672>*</span> (<span style=color:#ae81ff>1.</span> <span style=color:#f92672>-</span> colorB[<span style=color:#ae81ff>0</span>]));
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> G <span style=color:#f92672>=</span> (colorA[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0.5</span>) <span style=color:#f92672>?</span> <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> colorA[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>*</span> colorB[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>:</span> (<span style=color:#ae81ff>1.</span> <span style=color:#f92672>-</span> (<span style=color:#ae81ff>1.</span> <span style=color:#f92672>-</span> colorA[<span style=color:#ae81ff>1</span>]) <span style=color:#f92672>*</span> (<span style=color:#ae81ff>1.</span> <span style=color:#f92672>-</span> colorB[<span style=color:#ae81ff>1</span>]));
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> B <span style=color:#f92672>=</span> (colorA[<span style=color:#ae81ff>2</span>] <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0.5</span>) <span style=color:#f92672>?</span> <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> colorA[<span style=color:#ae81ff>2</span>] <span style=color:#f92672>*</span> colorB[<span style=color:#ae81ff>2</span>] <span style=color:#f92672>:</span> (<span style=color:#ae81ff>1.</span> <span style=color:#f92672>-</span> (<span style=color:#ae81ff>1.</span> <span style=color:#f92672>-</span> colorA[<span style=color:#ae81ff>2</span>]) <span style=color:#f92672>*</span> (<span style=color:#ae81ff>1.</span> <span style=color:#f92672>-</span> colorB[<span style=color:#ae81ff>2</span>]));
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> A <span style=color:#f92672>=</span> (colorA[<span style=color:#ae81ff>3</span>] <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0.5</span>) <span style=color:#f92672>?</span> <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> colorA[<span style=color:#ae81ff>3</span>] <span style=color:#f92672>*</span> colorB[<span style=color:#ae81ff>3</span>] <span style=color:#f92672>:</span> (<span style=color:#ae81ff>1.</span> <span style=color:#f92672>-</span> (<span style=color:#ae81ff>1.</span> <span style=color:#f92672>-</span> colorA[<span style=color:#ae81ff>3</span>]) <span style=color:#f92672>*</span> (<span style=color:#ae81ff>1.</span> <span style=color:#f92672>-</span> colorB[<span style=color:#ae81ff>3</span>]));
</span></span><span style=display:flex><span>    gl_FragColor <span style=color:#f92672>=</span> <span style=color:#66d9ef>vec4</span>(R, G, B, A) <span style=color:#f92672>*</span> brightness;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (mode <span style=color:#f92672>==</span> <span style=color:#ae81ff>4</span>) { <span style=color:#75715e>// darkest</span>
</span></span><span style=display:flex><span>    gl_FragColor <span style=color:#f92672>=</span> <span style=color:#66d9ef>vec4</span>(min(colorA[<span style=color:#ae81ff>0</span>], colorB[<span style=color:#ae81ff>0</span>]), 
</span></span><span style=display:flex><span>                        min(colorA[<span style=color:#ae81ff>1</span>], colorB[<span style=color:#ae81ff>1</span>]), 
</span></span><span style=display:flex><span>                        min(colorA[<span style=color:#ae81ff>2</span>], colorB[<span style=color:#ae81ff>2</span>]), 
</span></span><span style=display:flex><span>                        min(colorA[<span style=color:#ae81ff>3</span>], colorB[<span style=color:#ae81ff>3</span>])) <span style=color:#f92672>*</span> brightness;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (mode <span style=color:#f92672>==</span> <span style=color:#ae81ff>5</span>) { <span style=color:#75715e>// lightest</span>
</span></span><span style=display:flex><span>    gl_FragColor <span style=color:#f92672>=</span> <span style=color:#66d9ef>vec4</span>(max(colorA[<span style=color:#ae81ff>0</span>], colorB[<span style=color:#ae81ff>0</span>]), 
</span></span><span style=display:flex><span>                        max(colorA[<span style=color:#ae81ff>1</span>], colorB[<span style=color:#ae81ff>1</span>]), 
</span></span><span style=display:flex><span>                        max(colorA[<span style=color:#ae81ff>2</span>], colorB[<span style=color:#ae81ff>2</span>]), 
</span></span><span style=display:flex><span>                        max(colorA[<span style=color:#ae81ff>3</span>], colorB[<span style=color:#ae81ff>3</span>])) <span style=color:#f92672>*</span> brightness;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (mode <span style=color:#f92672>==</span> <span style=color:#ae81ff>6</span>) { <span style=color:#75715e>// color burn</span>
</span></span><span style=display:flex><span>    gl_FragColor <span style=color:#f92672>=</span> <span style=color:#ae81ff>1.</span> <span style=color:#f92672>-</span> ((<span style=color:#ae81ff>1.</span> <span style=color:#f92672>-</span> colorA) <span style=color:#f92672>/</span> colorB) <span style=color:#f92672>*</span> brightness;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (mode <span style=color:#f92672>==</span> <span style=color:#ae81ff>7</span>) { <span style=color:#75715e>// linear burn</span>
</span></span><span style=display:flex><span>    gl_FragColor <span style=color:#f92672>=</span> (colorA <span style=color:#f92672>+</span> colorB <span style=color:#f92672>-</span> <span style=color:#ae81ff>1.</span>) <span style=color:#f92672>*</span> brightness;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (mode <span style=color:#f92672>==</span> <span style=color:#ae81ff>8</span>) { <span style=color:#75715e>// difference</span>
</span></span><span style=display:flex><span>    gl_FragColor <span style=color:#f92672>=</span> (abs(colorA <span style=color:#f92672>-</span> colorB)) <span style=color:#f92672>*</span> brightness;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (mode <span style=color:#f92672>==</span> <span style=color:#ae81ff>9</span>) { <span style=color:#75715e>// divide</span>
</span></span><span style=display:flex><span>    gl_FragColor <span style=color:#f92672>=</span> (colorA <span style=color:#f92672>/</span> colorB) <span style=color:#f92672>*</span> brightness;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (mode <span style=color:#f92672>==</span> <span style=color:#ae81ff>10</span>) { <span style=color:#75715e>// exclusion</span>
</span></span><span style=display:flex><span>    gl_FragColor <span style=color:#f92672>=</span> (<span style=color:#ae81ff>0.5</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> (colorA <span style=color:#f92672>-</span> <span style=color:#ae81ff>0.5</span>) <span style=color:#f92672>*</span> (colorB <span style=color:#f92672>-</span> <span style=color:#ae81ff>0.5</span>)) <span style=color:#f92672>*</span> brightness;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (mode <span style=color:#f92672>==</span> <span style=color:#ae81ff>11</span>) { <span style=color:#75715e>// color dodge</span>
</span></span><span style=display:flex><span>    gl_FragColor <span style=color:#f92672>=</span> (colorA <span style=color:#f92672>/</span> (<span style=color:#ae81ff>1.</span> <span style=color:#f92672>-</span> colorB)) <span style=color:#f92672>*</span> brightness;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (mode <span style=color:#f92672>==</span> <span style=color:#ae81ff>12</span>) { <span style=color:#75715e>// hard light</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> R <span style=color:#f92672>=</span> (colorB[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0.5</span>) <span style=color:#f92672>?</span> (<span style=color:#ae81ff>1.</span> <span style=color:#f92672>-</span> (<span style=color:#ae81ff>1.</span> <span style=color:#f92672>-</span> colorA[<span style=color:#ae81ff>0</span>]) <span style=color:#f92672>*</span> (<span style=color:#ae81ff>1.</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> (colorB[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>-</span> <span style=color:#ae81ff>0.5</span>))) <span style=color:#f92672>:</span> colorA[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>*</span> <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> colorB[<span style=color:#ae81ff>0</span>];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> G <span style=color:#f92672>=</span> (colorB[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0.5</span>) <span style=color:#f92672>?</span> (<span style=color:#ae81ff>1.</span> <span style=color:#f92672>-</span> (<span style=color:#ae81ff>1.</span> <span style=color:#f92672>-</span> colorA[<span style=color:#ae81ff>1</span>]) <span style=color:#f92672>*</span> (<span style=color:#ae81ff>1.</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> (colorB[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>-</span> <span style=color:#ae81ff>0.5</span>))) <span style=color:#f92672>:</span> colorA[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>*</span> <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> colorB[<span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> B <span style=color:#f92672>=</span> (colorB[<span style=color:#ae81ff>2</span>] <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0.5</span>) <span style=color:#f92672>?</span> (<span style=color:#ae81ff>1.</span> <span style=color:#f92672>-</span> (<span style=color:#ae81ff>1.</span> <span style=color:#f92672>-</span> colorA[<span style=color:#ae81ff>2</span>]) <span style=color:#f92672>*</span> (<span style=color:#ae81ff>1.</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> (colorB[<span style=color:#ae81ff>2</span>] <span style=color:#f92672>-</span> <span style=color:#ae81ff>0.5</span>))) <span style=color:#f92672>:</span> colorA[<span style=color:#ae81ff>2</span>] <span style=color:#f92672>*</span> <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> colorB[<span style=color:#ae81ff>2</span>];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> A <span style=color:#f92672>=</span> (colorB[<span style=color:#ae81ff>3</span>] <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0.5</span>) <span style=color:#f92672>?</span> (<span style=color:#ae81ff>1.</span> <span style=color:#f92672>-</span> (<span style=color:#ae81ff>1.</span> <span style=color:#f92672>-</span> colorA[<span style=color:#ae81ff>3</span>]) <span style=color:#f92672>*</span> (<span style=color:#ae81ff>1.</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> (colorB[<span style=color:#ae81ff>3</span>] <span style=color:#f92672>-</span> <span style=color:#ae81ff>0.5</span>))) <span style=color:#f92672>:</span> colorA[<span style=color:#ae81ff>3</span>] <span style=color:#f92672>*</span> <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> colorB[<span style=color:#ae81ff>3</span>];
</span></span><span style=display:flex><span>    gl_FragColor <span style=color:#f92672>=</span> <span style=color:#66d9ef>vec4</span>(R, G, B, A) <span style=color:#f92672>*</span> brightness;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (mode <span style=color:#f92672>==</span> <span style=color:#ae81ff>13</span>) { <span style=color:#75715e>// vivid light</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> R <span style=color:#f92672>=</span> (colorB[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0.5</span>) <span style=color:#f92672>?</span> colorA[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>/</span> (<span style=color:#ae81ff>1.</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> (colorB[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>-</span> <span style=color:#ae81ff>0.5</span>)) <span style=color:#f92672>:</span> (<span style=color:#ae81ff>1.</span> <span style=color:#f92672>-</span> (<span style=color:#ae81ff>1.</span> <span style=color:#f92672>-</span> colorA[<span style=color:#ae81ff>0</span>]) <span style=color:#f92672>/</span> (<span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> colorB[<span style=color:#ae81ff>0</span>]));
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> G <span style=color:#f92672>=</span> (colorB[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0.5</span>) <span style=color:#f92672>?</span> colorA[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>/</span> (<span style=color:#ae81ff>1.</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> (colorB[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>-</span> <span style=color:#ae81ff>0.5</span>)) <span style=color:#f92672>:</span> (<span style=color:#ae81ff>1.</span> <span style=color:#f92672>-</span> (<span style=color:#ae81ff>1.</span> <span style=color:#f92672>-</span> colorA[<span style=color:#ae81ff>1</span>]) <span style=color:#f92672>/</span> (<span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> colorB[<span style=color:#ae81ff>1</span>]));
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> B <span style=color:#f92672>=</span> (colorB[<span style=color:#ae81ff>2</span>] <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0.5</span>) <span style=color:#f92672>?</span> colorA[<span style=color:#ae81ff>2</span>] <span style=color:#f92672>/</span> (<span style=color:#ae81ff>1.</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> (colorB[<span style=color:#ae81ff>2</span>] <span style=color:#f92672>-</span> <span style=color:#ae81ff>0.5</span>)) <span style=color:#f92672>:</span> (<span style=color:#ae81ff>1.</span> <span style=color:#f92672>-</span> (<span style=color:#ae81ff>1.</span> <span style=color:#f92672>-</span> colorA[<span style=color:#ae81ff>2</span>]) <span style=color:#f92672>/</span> (<span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> colorB[<span style=color:#ae81ff>2</span>]));
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> A <span style=color:#f92672>=</span> (colorB[<span style=color:#ae81ff>3</span>] <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0.5</span>) <span style=color:#f92672>?</span> colorA[<span style=color:#ae81ff>3</span>] <span style=color:#f92672>/</span> (<span style=color:#ae81ff>1.</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> (colorB[<span style=color:#ae81ff>3</span>] <span style=color:#f92672>-</span> <span style=color:#ae81ff>0.5</span>)) <span style=color:#f92672>:</span> (<span style=color:#ae81ff>1.</span> <span style=color:#f92672>-</span> (<span style=color:#ae81ff>1.</span> <span style=color:#f92672>-</span> colorA[<span style=color:#ae81ff>3</span>]) <span style=color:#f92672>/</span> (<span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> colorB[<span style=color:#ae81ff>3</span>]));
</span></span><span style=display:flex><span>    gl_FragColor <span style=color:#f92672>=</span> <span style=color:#66d9ef>vec4</span>(R, G, B, A) <span style=color:#f92672>*</span> brightness;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (mode <span style=color:#f92672>==</span> <span style=color:#ae81ff>14</span>) { <span style=color:#75715e>// vivid light</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> R <span style=color:#f92672>=</span> (colorB[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0.5</span>) <span style=color:#f92672>?</span> colorA[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>+</span> <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> (colorB[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>-</span> <span style=color:#ae81ff>0.5</span>) <span style=color:#f92672>:</span> (colorA[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>+</span> <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> colorB[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>-</span> <span style=color:#ae81ff>1.</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> G <span style=color:#f92672>=</span> (colorB[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0.5</span>) <span style=color:#f92672>?</span> colorA[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>+</span> <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> (colorB[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>-</span> <span style=color:#ae81ff>0.5</span>) <span style=color:#f92672>:</span> (colorA[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>+</span> <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> colorB[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>-</span> <span style=color:#ae81ff>1.</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> B <span style=color:#f92672>=</span> (colorB[<span style=color:#ae81ff>2</span>] <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0.5</span>) <span style=color:#f92672>?</span> colorA[<span style=color:#ae81ff>2</span>] <span style=color:#f92672>+</span> <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> (colorB[<span style=color:#ae81ff>2</span>] <span style=color:#f92672>-</span> <span style=color:#ae81ff>0.5</span>) <span style=color:#f92672>:</span> (colorA[<span style=color:#ae81ff>2</span>] <span style=color:#f92672>+</span> <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> colorB[<span style=color:#ae81ff>2</span>] <span style=color:#f92672>-</span> <span style=color:#ae81ff>1.</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> A <span style=color:#f92672>=</span> (colorB[<span style=color:#ae81ff>3</span>] <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0.5</span>) <span style=color:#f92672>?</span> colorA[<span style=color:#ae81ff>3</span>] <span style=color:#f92672>+</span> <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> (colorB[<span style=color:#ae81ff>3</span>] <span style=color:#f92672>-</span> <span style=color:#ae81ff>0.5</span>) <span style=color:#f92672>:</span> (colorA[<span style=color:#ae81ff>3</span>] <span style=color:#f92672>+</span> <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> colorB[<span style=color:#ae81ff>3</span>] <span style=color:#f92672>-</span> <span style=color:#ae81ff>1.</span>);
</span></span><span style=display:flex><span>    gl_FragColor <span style=color:#f92672>=</span> <span style=color:#66d9ef>vec4</span>(R, G, B, A) <span style=color:#f92672>*</span> brightness;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (mode <span style=color:#f92672>==</span> <span style=color:#ae81ff>15</span>) { <span style=color:#75715e>// pin light</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> R <span style=color:#f92672>=</span> (colorB[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0.5</span>) <span style=color:#f92672>?</span> max(colorA[<span style=color:#ae81ff>0</span>], <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> (colorB[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>-</span> <span style=color:#ae81ff>0.5</span>)) <span style=color:#f92672>:</span> min(colorA[<span style=color:#ae81ff>0</span>], <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> colorB[<span style=color:#ae81ff>0</span>]);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> G <span style=color:#f92672>=</span> (colorB[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0.5</span>) <span style=color:#f92672>?</span> max(colorA[<span style=color:#ae81ff>1</span>], <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> (colorB[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>-</span> <span style=color:#ae81ff>0.5</span>)) <span style=color:#f92672>:</span> min(colorA[<span style=color:#ae81ff>1</span>], <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> colorB[<span style=color:#ae81ff>1</span>]);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> B <span style=color:#f92672>=</span> (colorB[<span style=color:#ae81ff>2</span>] <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0.5</span>) <span style=color:#f92672>?</span> max(colorA[<span style=color:#ae81ff>2</span>], <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> (colorB[<span style=color:#ae81ff>2</span>] <span style=color:#f92672>-</span> <span style=color:#ae81ff>0.5</span>)) <span style=color:#f92672>:</span> min(colorA[<span style=color:#ae81ff>2</span>], <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> colorB[<span style=color:#ae81ff>2</span>]);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> A <span style=color:#f92672>=</span> (colorB[<span style=color:#ae81ff>3</span>] <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0.5</span>) <span style=color:#f92672>?</span> max(colorA[<span style=color:#ae81ff>3</span>], <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> (colorB[<span style=color:#ae81ff>3</span>] <span style=color:#f92672>-</span> <span style=color:#ae81ff>0.5</span>)) <span style=color:#f92672>:</span> min(colorA[<span style=color:#ae81ff>3</span>], <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> colorB[<span style=color:#ae81ff>3</span>]);
</span></span><span style=display:flex><span>    gl_FragColor <span style=color:#f92672>=</span> <span style=color:#66d9ef>vec4</span>(R, G, B, A) <span style=color:#f92672>*</span> brightness;    
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (mode <span style=color:#f92672>==</span> <span style=color:#ae81ff>16</span>) { <span style=color:#75715e>// soft light photoshop</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> R <span style=color:#f92672>=</span> (colorB[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0.5</span>) <span style=color:#f92672>?</span> <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> colorA[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>*</span> colorB[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>+</span> colorA[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>*</span> colorA[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>*</span> (<span style=color:#ae81ff>1.</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> colorB[<span style=color:#ae81ff>0</span>]) <span style=color:#f92672>:</span> <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> colorA[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>*</span> (<span style=color:#ae81ff>1.</span> <span style=color:#f92672>-</span> colorB[<span style=color:#ae81ff>0</span>]) <span style=color:#f92672>+</span> sqrt(colorA[<span style=color:#ae81ff>0</span>]) <span style=color:#f92672>*</span> (<span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> colorB[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>-</span> <span style=color:#ae81ff>1.</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> G <span style=color:#f92672>=</span> (colorB[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0.5</span>) <span style=color:#f92672>?</span> <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> colorA[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>*</span> colorB[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>+</span> colorA[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>*</span> colorA[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>*</span> (<span style=color:#ae81ff>1.</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> colorB[<span style=color:#ae81ff>1</span>]) <span style=color:#f92672>:</span> <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> colorA[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>*</span> (<span style=color:#ae81ff>1.</span> <span style=color:#f92672>-</span> colorB[<span style=color:#ae81ff>1</span>]) <span style=color:#f92672>+</span> sqrt(colorA[<span style=color:#ae81ff>1</span>]) <span style=color:#f92672>*</span> (<span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> colorB[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>-</span> <span style=color:#ae81ff>1.</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> B <span style=color:#f92672>=</span> (colorB[<span style=color:#ae81ff>2</span>] <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0.5</span>) <span style=color:#f92672>?</span> <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> colorA[<span style=color:#ae81ff>2</span>] <span style=color:#f92672>*</span> colorB[<span style=color:#ae81ff>2</span>] <span style=color:#f92672>+</span> colorA[<span style=color:#ae81ff>2</span>] <span style=color:#f92672>*</span> colorA[<span style=color:#ae81ff>2</span>] <span style=color:#f92672>*</span> (<span style=color:#ae81ff>1.</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> colorB[<span style=color:#ae81ff>2</span>]) <span style=color:#f92672>:</span> <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> colorA[<span style=color:#ae81ff>2</span>] <span style=color:#f92672>*</span> (<span style=color:#ae81ff>1.</span> <span style=color:#f92672>-</span> colorB[<span style=color:#ae81ff>2</span>]) <span style=color:#f92672>+</span> sqrt(colorA[<span style=color:#ae81ff>2</span>]) <span style=color:#f92672>*</span> (<span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> colorB[<span style=color:#ae81ff>2</span>] <span style=color:#f92672>-</span> <span style=color:#ae81ff>1.</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> A <span style=color:#f92672>=</span> (colorB[<span style=color:#ae81ff>3</span>] <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0.5</span>) <span style=color:#f92672>?</span> <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> colorA[<span style=color:#ae81ff>3</span>] <span style=color:#f92672>*</span> colorB[<span style=color:#ae81ff>3</span>] <span style=color:#f92672>+</span> colorA[<span style=color:#ae81ff>3</span>] <span style=color:#f92672>*</span> colorA[<span style=color:#ae81ff>3</span>] <span style=color:#f92672>*</span> (<span style=color:#ae81ff>1.</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> colorB[<span style=color:#ae81ff>3</span>]) <span style=color:#f92672>:</span> <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> colorA[<span style=color:#ae81ff>3</span>] <span style=color:#f92672>*</span> (<span style=color:#ae81ff>1.</span> <span style=color:#f92672>-</span> colorB[<span style=color:#ae81ff>3</span>]) <span style=color:#f92672>+</span> sqrt(colorA[<span style=color:#ae81ff>3</span>]) <span style=color:#f92672>*</span> (<span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> colorB[<span style=color:#ae81ff>3</span>] <span style=color:#f92672>-</span> <span style=color:#ae81ff>1.</span>);
</span></span><span style=display:flex><span>    gl_FragColor <span style=color:#f92672>=</span> <span style=color:#66d9ef>vec4</span>(R, G, B, A) <span style=color:#f92672>*</span> brightness;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (mode <span style=color:#f92672>==</span> <span style=color:#ae81ff>17</span>) { <span style=color:#75715e>// soft light pegtop</span>
</span></span><span style=display:flex><span>    gl_FragColor <span style=color:#f92672>=</span> ((<span style=color:#ae81ff>1.</span> <span style=color:#f92672>-</span> (<span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> colorB)) <span style=color:#f92672>*</span> (colorA <span style=color:#f92672>*</span> colorA) <span style=color:#f92672>+</span> (<span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> colorB <span style=color:#f92672>*</span> colorA)) <span style=color:#f92672>*</span> brightness;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (mode <span style=color:#f92672>==</span> <span style=color:#ae81ff>18</span>) { <span style=color:#75715e>// soft light illusions.hu</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> R <span style=color:#f92672>=</span> pow(colorA[<span style=color:#ae81ff>0</span>], pow(<span style=color:#ae81ff>2.</span>, <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> (<span style=color:#ae81ff>0.5</span> <span style=color:#f92672>-</span> colorB[<span style=color:#ae81ff>0</span>])));
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> G <span style=color:#f92672>=</span> pow(colorA[<span style=color:#ae81ff>1</span>], pow(<span style=color:#ae81ff>2.</span>, <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> (<span style=color:#ae81ff>0.5</span> <span style=color:#f92672>-</span> colorB[<span style=color:#ae81ff>1</span>])));
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> B <span style=color:#f92672>=</span> pow(colorA[<span style=color:#ae81ff>2</span>], pow(<span style=color:#ae81ff>2.</span>, <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> (<span style=color:#ae81ff>0.5</span> <span style=color:#f92672>-</span> colorB[<span style=color:#ae81ff>2</span>])));
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> A <span style=color:#f92672>=</span> pow(colorA[<span style=color:#ae81ff>3</span>], pow(<span style=color:#ae81ff>2.</span>, <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> (<span style=color:#ae81ff>0.5</span> <span style=color:#f92672>-</span> colorB[<span style=color:#ae81ff>3</span>])));
</span></span><span style=display:flex><span>    gl_FragColor <span style=color:#f92672>=</span> <span style=color:#66d9ef>vec4</span>(R, G, B, A) <span style=color:#f92672>*</span> brightness;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (mode <span style=color:#f92672>==</span> <span style=color:#ae81ff>19</span>) { <span style=color:#75715e>// soft-light w3c</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> gRa <span style=color:#f92672>=</span> (colorA[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>0.25</span>) <span style=color:#f92672>?</span> ((<span style=color:#ae81ff>16.</span> <span style=color:#f92672>*</span> colorA[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>-</span> <span style=color:#ae81ff>12.</span>) <span style=color:#f92672>*</span> colorA[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>+</span> <span style=color:#ae81ff>4.</span>) <span style=color:#f92672>*</span> colorA[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>:</span> sqrt(colorA[<span style=color:#ae81ff>0</span>]); 
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> gGa <span style=color:#f92672>=</span> (colorA[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>0.25</span>) <span style=color:#f92672>?</span> ((<span style=color:#ae81ff>16.</span> <span style=color:#f92672>*</span> colorA[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>-</span> <span style=color:#ae81ff>12.</span>) <span style=color:#f92672>*</span> colorA[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>+</span> <span style=color:#ae81ff>4.</span>) <span style=color:#f92672>*</span> colorA[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>:</span> sqrt(colorA[<span style=color:#ae81ff>1</span>]); 
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> gBa <span style=color:#f92672>=</span> (colorA[<span style=color:#ae81ff>2</span>] <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>0.25</span>) <span style=color:#f92672>?</span> ((<span style=color:#ae81ff>16.</span> <span style=color:#f92672>*</span> colorA[<span style=color:#ae81ff>2</span>] <span style=color:#f92672>-</span> <span style=color:#ae81ff>12.</span>) <span style=color:#f92672>*</span> colorA[<span style=color:#ae81ff>2</span>] <span style=color:#f92672>+</span> <span style=color:#ae81ff>4.</span>) <span style=color:#f92672>*</span> colorA[<span style=color:#ae81ff>2</span>] <span style=color:#f92672>:</span> sqrt(colorA[<span style=color:#ae81ff>2</span>]); 
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> gAa <span style=color:#f92672>=</span> (colorA[<span style=color:#ae81ff>3</span>] <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>0.25</span>) <span style=color:#f92672>?</span> ((<span style=color:#ae81ff>16.</span> <span style=color:#f92672>*</span> colorA[<span style=color:#ae81ff>3</span>] <span style=color:#f92672>-</span> <span style=color:#ae81ff>12.</span>) <span style=color:#f92672>*</span> colorA[<span style=color:#ae81ff>3</span>] <span style=color:#f92672>+</span> <span style=color:#ae81ff>4.</span>) <span style=color:#f92672>*</span> colorA[<span style=color:#ae81ff>3</span>] <span style=color:#f92672>:</span> sqrt(colorA[<span style=color:#ae81ff>3</span>]);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> R <span style=color:#f92672>=</span> (colorB[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>0.5</span>) <span style=color:#f92672>?</span> colorA[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>-</span> (<span style=color:#ae81ff>1.</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> colorB[<span style=color:#ae81ff>0</span>]) <span style=color:#f92672>*</span> colorA[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>*</span> (<span style=color:#ae81ff>1.</span> <span style=color:#f92672>-</span> colorA[<span style=color:#ae81ff>0</span>]) <span style=color:#f92672>:</span> colorA[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>+</span> (<span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> colorB[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>-</span> <span style=color:#ae81ff>1.</span>) <span style=color:#f92672>*</span> (gRa <span style=color:#f92672>-</span> colorA[<span style=color:#ae81ff>0</span>]);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> G <span style=color:#f92672>=</span> (colorB[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>0.5</span>) <span style=color:#f92672>?</span> colorA[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>-</span> (<span style=color:#ae81ff>1.</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> colorB[<span style=color:#ae81ff>1</span>]) <span style=color:#f92672>*</span> colorA[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>*</span> (<span style=color:#ae81ff>1.</span> <span style=color:#f92672>-</span> colorA[<span style=color:#ae81ff>1</span>]) <span style=color:#f92672>:</span> colorA[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>+</span> (<span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> colorB[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>-</span> <span style=color:#ae81ff>1.</span>) <span style=color:#f92672>*</span> (gGa <span style=color:#f92672>-</span> colorA[<span style=color:#ae81ff>1</span>]);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> B <span style=color:#f92672>=</span> (colorB[<span style=color:#ae81ff>2</span>] <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>0.5</span>) <span style=color:#f92672>?</span> colorA[<span style=color:#ae81ff>2</span>] <span style=color:#f92672>-</span> (<span style=color:#ae81ff>1.</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> colorB[<span style=color:#ae81ff>2</span>]) <span style=color:#f92672>*</span> colorA[<span style=color:#ae81ff>2</span>] <span style=color:#f92672>*</span> (<span style=color:#ae81ff>1.</span> <span style=color:#f92672>-</span> colorA[<span style=color:#ae81ff>2</span>]) <span style=color:#f92672>:</span> colorA[<span style=color:#ae81ff>2</span>] <span style=color:#f92672>+</span> (<span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> colorB[<span style=color:#ae81ff>2</span>] <span style=color:#f92672>-</span> <span style=color:#ae81ff>1.</span>) <span style=color:#f92672>*</span> (gBa <span style=color:#f92672>-</span> colorA[<span style=color:#ae81ff>2</span>]);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> A <span style=color:#f92672>=</span> (colorB[<span style=color:#ae81ff>3</span>] <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>0.5</span>) <span style=color:#f92672>?</span> colorA[<span style=color:#ae81ff>3</span>] <span style=color:#f92672>-</span> (<span style=color:#ae81ff>1.</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> colorB[<span style=color:#ae81ff>3</span>]) <span style=color:#f92672>*</span> colorA[<span style=color:#ae81ff>3</span>] <span style=color:#f92672>*</span> (<span style=color:#ae81ff>1.</span> <span style=color:#f92672>-</span> colorA[<span style=color:#ae81ff>3</span>]) <span style=color:#f92672>:</span> colorA[<span style=color:#ae81ff>3</span>] <span style=color:#f92672>+</span> (<span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> colorB[<span style=color:#ae81ff>3</span>] <span style=color:#f92672>-</span> <span style=color:#ae81ff>1.</span>) <span style=color:#f92672>*</span> (gAa <span style=color:#f92672>-</span> colorA[<span style=color:#ae81ff>3</span>]);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    gl_FragColor <span style=color:#f92672>=</span> <span style=color:#66d9ef>vec4</span>(R, G, B, A) <span style=color:#f92672>*</span> brightness;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#75715e>// http://www.deepskycolors.com/archivo/2010/04/21/formulas-for-Photoshop-blending-modes.html</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div></details><h2 id=conclusiones>Conclusiones
<a class=anchor href=#conclusiones>#</a></h2><p>En conclusión, el color blending es una técnica ampliamente utilizada en diversas disciplinas artísticas y aplicaciones cotidianas para crear transiciones suaves entre diferentes colores. Ya sea mediante la mezcla física de pigmentos, la mezcla óptica de puntos de colores o la mezcla digital a través de software, los artistas y diseñadores tienen diferentes métodos a su disposición para lograr combinaciones de colores específicas y efectos visuales impactantes. La elección de la técnica de mezcla depende del efecto deseado y del medio utilizado, y los artistas suelen experimentar con diferentes técnicas para lograr resultados únicos en su trabajo.</p><p>En cuanto al blending de color digital, los programas de edición de imágenes ofrecen diferentes modos de mezcla que permiten combinar los valores de los canales de color para generar transiciones suaves entre colores. Estos modos de mezcla, como el modo multiplicar, añadir, superponer y otros, proporcionan resultados visuales distintos y pueden ser utilizados para crear efectos específicos en una imagen. Los modelos de color, como el RGB y el CMYK, son utilizados en estos programas para representar los colores y realizar los cálculos necesarios para el blending. El uso de shaders en aplicaciones gráficas permite implementar estos modos de blending y proporcionar a los usuarios herramientas creativas para mezclar colores y lograr efectos visuales impresionantes en sus proyectos.</p><p>En cuanto al trabajo futuro, se podrían explorar nuevas técnicas de blending y modos de mezcla para ampliar aún más las posibilidades creativas en el color blending. También se podría investigar la aplicación del color blending en otros campos, como la realidad virtual o la impresión en 3D, para descubrir cómo esta técnica puede ser utilizada de formas innovadoras. Además, se podría desarrollar software más intuitivo y accesible que facilite el proceso de mezcla de colores para artistas y diseñadores, brindándoles herramientas más avanzadas y opciones personalizables. En resumen, el color blending sigue siendo un área en constante evolución que ofrece un gran potencial para la expresión artística y la creación visual, y hay muchas oportunidades para explorar y expandir sus aplicaciones en el futuro.</p></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/visualcomputing/showcase/commit/586804e8f3a2f429cca2487e5396fffdb7a6d032 title='Last modified by Juan Esteban Oviedo | June 3, 2023' target=_blank rel=noopener><img src=/showcase/svg/calendar.svg class=book-icon alt=Calendar>
<span>June 3, 2023</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#ejercicio-blending>Ejercicio Blending</a><ul><li><a href=#sobre-el-color-blending>Sobre el Color Blending</a></li><li><a href=#blending-de-color-digital>Blending de Color Digital</a></li><li><a href=#funcionamiento>Funcionamiento</a></li><li><a href=#conclusiones>Conclusiones</a></li></ul></li></ul></nav></div></aside></main></body></html>