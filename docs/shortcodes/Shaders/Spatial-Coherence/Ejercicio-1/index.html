<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Ejercicio de Spatial Coherence # Spatial Coherence vs Average Color (No Spatial Coherence) # En este ejericio se hace una implementación del pixelado de imágenes usando coherencia espacial y se propone presentar una alternativa empleando color averaging. Para el caso de spatial coherence el shader pixelator recibe la imagen y la resolución a utilizar. Una resolución de 30 significa que la imagen pixelada tendrá 30 pixeles de baja resolución (grandes) en cada lado."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content><meta property="og:description" content="Ejercicio de Spatial Coherence # Spatial Coherence vs Average Color (No Spatial Coherence) # En este ejericio se hace una implementación del pixelado de imágenes usando coherencia espacial y se propone presentar una alternativa empleando color averaging. Para el caso de spatial coherence el shader pixelator recibe la imagen y la resolución a utilizar. Una resolución de 30 significa que la imagen pixelada tendrá 30 pixeles de baja resolución (grandes) en cada lado."><meta property="og:type" content="article"><meta property="og:url" content="https://vc-cjn.github.io/showcase/docs/shortcodes/Shaders/Spatial-Coherence/Ejercicio-1/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2023-05-26T21:33:41-05:00"><title>Ejercicio 1 | Showcase Template</title><link rel=manifest href=/showcase/manifest.json><link rel=icon href=/showcase/favicon.png type=image/x-icon><link rel=stylesheet href=/showcase/book.min.4b35fed0bea034bbc19c89c71e14b73fb9c68cfcc586b9382adfb9b7b103ba06.css integrity="sha256-SzX+0L6gNLvBnInHHhS3P7nGjPzFhrk4Kt+5t7EDugY=" crossorigin=anonymous><script defer src=/showcase/flexsearch.min.js></script>
<script defer src=/showcase/en.search.min.3a8d658c77eb93c7f12a2b8af49a700131e474f288eefb605d9fa61576dbe5a7.js integrity="sha256-Oo1ljHfrk8fxKiuK9JpwATHkdPKI7vtgXZ+mFXbb5ac=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/showcase/><span>Showcase Template</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li class=book-section-flat><span>Shortcodes</span><ul><li><input type=checkbox id=section-71de8235f72db30668db972cb3ebe56f class=toggle>
<label for=section-71de8235f72db30668db972cb3ebe56f class="flex justify-between"><a href=/showcase/docs/shortcodes/Equipo-de-Trabajo/>Equipo De Trabajo</a></label><ul><li><a href=/showcase/docs/shortcodes/Equipo-de-Trabajo/Carlos-Ni%C3%B1o/>Carlos Niño</a></li><li><a href=/showcase/docs/shortcodes/Equipo-de-Trabajo/Juan-Oviedo/>Juan Oviedo</a></li><li><a href=/showcase/docs/shortcodes/Equipo-de-Trabajo/Nicol%C3%A1s-Rincon/>Nicolás Rincon</a></li></ul></li><li><input type=checkbox id=section-37d133451a87125afc7e4d4a60cdb12b class=toggle checked>
<label for=section-37d133451a87125afc7e4d4a60cdb12b class="flex justify-between"><a href=/showcase/docs/shortcodes/Shaders/>Shaders</a></label><ul><li><input type=checkbox id=section-edeb9cc2709510b029c1fbd4e97d4944 class=toggle>
<label for=section-edeb9cc2709510b029c1fbd4e97d4944 class="flex justify-between"><a href=/showcase/docs/shortcodes/Shaders/Blending/>Blending</a></label><ul><li><a href=/showcase/docs/shortcodes/Shaders/Blending/Ejercicio-1/>Ejercicio 1</a></li></ul></li><li><input type=checkbox id=section-123f1fa7496265b40605bc65626fae07 class=toggle>
<label for=section-123f1fa7496265b40605bc65626fae07 class="flex justify-between"><a href=/showcase/docs/shortcodes/Shaders/Photomosaic/>Photomosaic</a></label><ul><li><a href=/showcase/docs/shortcodes/Shaders/Photomosaic/Ejercicio-1/>Ejercicio 1</a></li></ul></li><li><input type=checkbox id=section-be9a940056fd84a3fda535c049954464 class=toggle>
<label for=section-be9a940056fd84a3fda535c049954464 class="flex justify-between"><a href=/showcase/docs/shortcodes/Shaders/Procedural-Texturing/>Procedural Texturing</a></label><ul><li><a href=/showcase/docs/shortcodes/Shaders/Procedural-Texturing/Ejercicio-1/>Ejercicio 1</a></li></ul></li><li><input type=checkbox id=section-c5051a6467a2b46b514156e185242e0c class=toggle checked>
<label for=section-c5051a6467a2b46b514156e185242e0c class="flex justify-between"><a href=/showcase/docs/shortcodes/Shaders/Spatial-Coherence/>Spatial Coherence</a></label><ul><li><a href=/showcase/docs/shortcodes/Shaders/Spatial-Coherence/Ejercicio-1/ class=active>Ejercicio 1</a></li></ul></li></ul></li><li><input type=checkbox id=section-c773256a199be81a62574d17112edc8c class=toggle>
<label for=section-c773256a199be81a62574d17112edc8c class="flex justify-between"><a href=/showcase/docs/shortcodes/Visual-Illusions/>Visual Illusions</a></label><ul><li><input type=checkbox id=section-6be1497692c59886a7338ce628c128f2 class=toggle>
<label for=section-6be1497692c59886a7338ce628c128f2 class="flex justify-between"><a href=/showcase/docs/shortcodes/Visual-Illusions/Coloring/>Coloring</a></label><ul><li><a href=/showcase/docs/shortcodes/Visual-Illusions/Coloring/Ejercicio-1/>Ejercicio 1</a></li><li><a href=/showcase/docs/shortcodes/Visual-Illusions/Coloring/Ejercicio-2/>Ejercicio 2</a></li><li><a href=/showcase/docs/shortcodes/Visual-Illusions/Coloring/Ejercicio-Blending/>Ejercicio Blending</a></li></ul></li><li><input type=checkbox id=section-b0ba6863af02a61f4b1900615fd588bd class=toggle>
<label for=section-b0ba6863af02a61f4b1900615fd588bd class="flex justify-between"><a href=/showcase/docs/shortcodes/Visual-Illusions/Mach-Bands/>Mach Bands</a></label><ul><li><a href=/showcase/docs/shortcodes/Visual-Illusions/Mach-Bands/Ejercicio-1/>Ejercicio 1</a></li></ul></li><li><input type=checkbox id=section-d48d8dc31907a4ec1fedece9fdd58a7d class=toggle>
<label for=section-d48d8dc31907a4ec1fedece9fdd58a7d class="flex justify-between"><a href=/showcase/docs/shortcodes/Visual-Illusions/Masking/>Masking</a></label><ul><li><a href=/showcase/docs/shortcodes/Visual-Illusions/Masking/Ejercicio-1/>Ejercicio 1</a></li><li><a href=/showcase/docs/shortcodes/Visual-Illusions/Masking/Ejercicio-3/>Ejercicio 3</a></li></ul></li><li><input type=checkbox id=section-ebaa607a5709cc366636ff5ef7d1946f class=toggle>
<label for=section-ebaa607a5709cc366636ff5ef7d1946f class="flex justify-between"><a href=/showcase/docs/shortcodes/Visual-Illusions/Spatial-Coherence/>Spatial Coherence</a></label><ul><li><a href=/showcase/docs/shortcodes/Visual-Illusions/Spatial-Coherence/Ejercicio-1/>Ejercicio 1</a></li></ul></li></ul></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/showcase/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Ejercicio 1</strong>
<label for=toc-control><img src=/showcase/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#ejercicio-de-spatial-coherence>Ejercicio de Spatial Coherence</a><ul><li><a href=#spatial-coherence-vs-average-color-no-spatial-coherence>Spatial Coherence vs Average Color (No Spatial Coherence)</a></li><li><a href=#average-color-no-spatial-coherence>Average Color (No Spatial Coherence)</a></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=ejercicio-de-spatial-coherence>Ejercicio de Spatial Coherence
<a class=anchor href=#ejercicio-de-spatial-coherence>#</a></h1><h2 id=spatial-coherence-vs-average-color-no-spatial-coherence>Spatial Coherence vs Average Color (No Spatial Coherence)
<a class=anchor href=#spatial-coherence-vs-average-color-no-spatial-coherence>#</a></h2><p>En este ejericio se hace una implementación del pixelado de imágenes usando coherencia espacial y se propone presentar una alternativa empleando color averaging. Para el caso de spatial coherence el shader pixelator recibe la imagen y la resolución a utilizar. Una resolución de 30 significa que la imagen pixelada tendrá 30 pixeles de baja resolución (grandes) en cada lado.</p><p>El mecanismo de coherencia espacial opera de la siguiente forma: Para cada texel se recibe una coordenada normalizada [0..1]. Cada componente se multiplica por la resolución por lo que si esta es 30, ahora [0..30]. Luego, a estas componentes se les calcula la función piso. Esta coordenada se divide entre la resolución para volver a obtener valores normalizadas. Aquí la coherencia espacial sea aplica porque se asume que ese color será cercano a los colores de todos los texeles que se mapean a dicha coordenada, aunque no sea cierto en todos los casos, pero siendo muy probable.</p><p>Se añadó una implementación que no usa coherencia espacial para que el usuario pueda comparar los resultados. Esta otra implementación, pinta cada pixel de baja resolución con el color promedio de los colores de los pixeles que se mapean a dicha coordenada. Esta aplicación fue implementada por software, es decir, no se usan shaders. El usuario debe subir la imagen que quiere comparar manualmentee a ambas implementaciones y mover el slider para que ambas tengan la misma resolución.</p><p>Se observará que no hay gran diferencia en los colores usados en los pixeles de baja resolución. Tal vez incluso parezca que la coherencia espacial muestra la imagen pixelada con un poco más de detalle, mientras que la que usa el promedio de los colores pareciera que estuviera pasando una convolución de tipo blur.</p><h2 id=average-color-no-spatial-coherence>Average Color (No Spatial Coherence)
<a class=anchor href=#average-color-no-spatial-coherence>#</a></h2><p>A continuación se muestra la implementación hecha en software (no hardware) de la pixelación que no usa coherencia espacial (elegir arbitrariamente uno de los pixeles de una sección para pintar el pixel de baja resolución de dicha sección), sino que hace un promedio de los colores de los pixeles de toda la sección y así pinta el pixel de baja resolución.</p><p>El usuario debe cargar la imagen manualmente y mover el slider si es necesario para que tengan la misma resolución ambas implementaciones para poder comparar.</p><iframe id=average style=width:650px;height:750px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/addons/p5.sound.min.js></script>
            
            
            
            
            
            <script src=/showcase/sketches/shader_sp/average.js></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe>
<details><summary>Color Averaging Sketch Code</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>mid</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>10</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>w</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>20</span>; <span style=color:#75715e>// pixel width and height: split is in groups of 256 pixels.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>input</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>img</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>width</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>height</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>resolution</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>setup</span>() {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>input</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createFileInput</span>(<span style=color:#a6e22e>handleFile</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>resolution</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createSlider</span>(<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>150</span>, <span style=color:#ae81ff>30</span>, <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>resolution</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>10</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>resolution</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;width&#39;</span>, <span style=color:#e6db74>&#39;150px&#39;</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>resolution</span>.<span style=color:#a6e22e>input</span>(() =&gt; {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>w</span> <span style=color:#f92672>=</span> Math.<span style=color:#a6e22e>floor</span>(<span style=color:#ae81ff>600</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>resolution</span>.<span style=color:#a6e22e>value</span>());
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>mid</span> <span style=color:#f92672>=</span> Math.<span style=color:#a6e22e>floor</span>(<span style=color:#a6e22e>w</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>draw</span>() {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>img</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>null</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>width</span> <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span>) {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>width</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>600</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>height</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>600</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>input</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>2</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>width</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>createCanvas</span>(<span style=color:#ae81ff>2</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>width</span>, <span style=color:#a6e22e>height</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>image</span>(<span style=color:#a6e22e>img</span>, <span style=color:#a6e22e>width</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>600</span>, <span style=color:#ae81ff>600</span>);
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>fill</span>(<span style=color:#ae81ff>100</span>);
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>noStroke</span>();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>width</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>w</span>)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>j</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>height</span>; <span style=color:#a6e22e>j</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>w</span>)
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>square</span>(<span style=color:#a6e22e>i</span>, <span style=color:#a6e22e>j</span>, <span style=color:#a6e22e>w</span>);
</span></span><span style=display:flex><span>            } 
</span></span><span style=display:flex><span>        }   
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>COLORS</span> <span style=color:#f92672>=</span> {}
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>width</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i_</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>width</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>j</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>height</span>; <span style=color:#a6e22e>j</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>color</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>get</span>(<span style=color:#a6e22e>i_</span>, <span style=color:#a6e22e>j</span>);
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>key</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>`</span><span style=color:#e6db74>${</span>Math.<span style=color:#a6e22e>floor</span>(<span style=color:#a6e22e>i</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>w</span>)<span style=color:#e6db74>}</span><span style=color:#e6db74>-</span><span style=color:#e6db74>${</span>Math.<span style=color:#a6e22e>floor</span>(<span style=color:#a6e22e>j</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>w</span>)<span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>;
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>COLORS</span>[<span style=color:#a6e22e>key</span>] <span style=color:#f92672>==</span> <span style=color:#66d9ef>null</span>)
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>COLORS</span>[<span style=color:#a6e22e>key</span>] <span style=color:#f92672>=</span> [];
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>COLORS</span>[<span style=color:#a6e22e>key</span>].<span style=color:#a6e22e>push</span>(<span style=color:#a6e22e>color</span>);
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>key</span> <span style=color:#66d9ef>in</span> <span style=color:#a6e22e>COLORS</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>colors</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>COLORS</span>[<span style=color:#a6e22e>key</span>]
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>R</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>G</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>B</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>colors</span>.<span style=color:#a6e22e>forEach</span>((<span style=color:#a6e22e>c</span>) =&gt; {
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>R</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>c</span>[<span style=color:#ae81ff>0</span>];
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>G</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>c</span>[<span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>B</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>c</span>[<span style=color:#ae81ff>2</span>];
</span></span><span style=display:flex><span>            })
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>COLORS</span>[<span style=color:#a6e22e>key</span>] <span style=color:#f92672>=</span> [Math.<span style=color:#a6e22e>floor</span>(<span style=color:#a6e22e>R</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>w</span><span style=color:#f92672>**</span><span style=color:#ae81ff>2</span>), Math.<span style=color:#a6e22e>floor</span>(<span style=color:#a6e22e>G</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>w</span><span style=color:#f92672>**</span><span style=color:#ae81ff>2</span>), Math.<span style=color:#a6e22e>floor</span>(<span style=color:#a6e22e>B</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>w</span><span style=color:#f92672>**</span><span style=color:#ae81ff>2</span>)]
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>key</span> <span style=color:#66d9ef>in</span> <span style=color:#a6e22e>COLORS</span>) {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>fill</span>(<span style=color:#a6e22e>COLORS</span>[<span style=color:#a6e22e>key</span>])
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>=</span> parseInt(<span style=color:#a6e22e>key</span>.<span style=color:#a6e22e>split</span>(<span style=color:#e6db74>&#39;-&#39;</span>)[<span style=color:#ae81ff>0</span>])
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>y</span> <span style=color:#f92672>=</span> parseInt(<span style=color:#a6e22e>key</span>.<span style=color:#a6e22e>split</span>(<span style=color:#e6db74>&#39;-&#39;</span>)[<span style=color:#ae81ff>1</span>])
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>square</span>(<span style=color:#a6e22e>x</span><span style=color:#f92672>*</span><span style=color:#a6e22e>w</span>, <span style=color:#a6e22e>y</span><span style=color:#f92672>*</span><span style=color:#a6e22e>w</span>, <span style=color:#a6e22e>w</span>);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>handleFile</span>(<span style=color:#a6e22e>file</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>file</span>.<span style=color:#a6e22e>type</span> <span style=color:#f92672>===</span> <span style=color:#e6db74>&#39;image&#39;</span>) {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>img</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createImg</span>(<span style=color:#a6e22e>file</span>.<span style=color:#a6e22e>data</span>, <span style=color:#e6db74>&#39;&#39;</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>img</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>null</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span></code></pre></div></div></details></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/visualcomputing/showcase/commit/494caf14560f32e3f6974b4216ba6adad94aa472 title='Last modified by Juan Esteban Oviedo | May 27, 2023' target=_blank rel=noopener><img src=/showcase/svg/calendar.svg class=book-icon alt=Calendar>
<span>May 27, 2023</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#ejercicio-de-spatial-coherence>Ejercicio de Spatial Coherence</a><ul><li><a href=#spatial-coherence-vs-average-color-no-spatial-coherence>Spatial Coherence vs Average Color (No Spatial Coherence)</a></li><li><a href=#average-color-no-spatial-coherence>Average Color (No Spatial Coherence)</a></li></ul></li></ul></nav></div></aside></main></body></html>